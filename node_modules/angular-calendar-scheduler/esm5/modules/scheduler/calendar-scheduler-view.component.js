import * as tslib_1 from "tslib";
import { Component, Input, Output, EventEmitter, ChangeDetectorRef, LOCALE_ID, Inject, TemplateRef, ViewEncapsulation } from '@angular/core';
import { Subject } from 'rxjs';
import { isBefore } from 'date-fns';
import { CalendarDragHelper } from 'angular-calendar/esm2015/modules/common/calendar-drag-helper.provider';
import { CalendarResizeHelper } from 'angular-calendar/esm2015/modules/common/calendar-resize-helper.provider';
import { SchedulerConfig } from './scheduler-config';
import { CalendarEventTimesChangedEventType, DateAdapter } from 'angular-calendar';
import { shouldFireDroppedEvent, isDraggedWithinPeriod, roundToNearest, getMinutesMoved, trackByHourColumn, trackByDayOrEvent, trackByHour, trackByHourSegment, getMinimumEventHeightInMinutes, getDefaultEventEnd } from '../common/utils';
import { DEFAULT_HOUR_SEGMENTS, DEFAULT_HOUR_SEGMENT_HEIGHT_PX, DEFAULT_EVENT_WIDTH_PERCENT, MINUTES_IN_HOUR } from './utils/calendar-scheduler-utils';
import { CalendarSchedulerUtils } from './utils/calendar-scheduler-utils.provider';
/**
 *  [ngClass]="getPositioningClasses(event)"
 *
 *  [style.top.px]="event.top"
 *  [style.height.px]="event.height"
 *  [style.left.%]="event.left"
 *  [style.width.%]="event.width"
 *
 *  DRAG & DROP & RESIZE -> https://github.com/mattlewis92/angular-calendar/blob/master/projects/angular-calendar/src/modules/week/calendar-week-view.component.ts
 *  FLEXBOX -> https://css-tricks.com/snippets/css/a-guide-to-flexbox/
 */
var CalendarSchedulerViewComponent = /** @class */ (function () {
    /**
     * @hidden
     */
    function CalendarSchedulerViewComponent(cdr, locale, config, utils, dateAdapter) {
        this.cdr = cdr;
        this.config = config;
        this.utils = utils;
        this.dateAdapter = dateAdapter;
        /**
         * An array of events to display on view
         */
        this.events = [];
        /**
         * The number of segments in an hour. Must be one of 1, 2, 4, 6
         */
        this.hourSegments = DEFAULT_HOUR_SEGMENTS;
        /**
        * The height in pixels of each hour segment
        */
        this.hourSegmentHeight = DEFAULT_HOUR_SEGMENT_HEIGHT_PX;
        /**
         * An array of day indexes (0 = sunday, 1 = monday etc) that will be hidden on the view
         */
        this.excludeDays = [];
        /**
         * Specify if the first day of current scheduler view has to be today or the first day of the week
         */
        this.startsWithToday = false;
        /**
         * Specify if content must be shown or not
         */
        this.showEventContent = true;
        /**
         * Specify if actions must be shown or not
         */
        this.showEventActions = true;
        /**
         * Specify if status must be shown or not
         */
        this.showEventStatus = true;
        /**
         * Specify if hour must be shown on segment or not
         */
        this.showSegmentHour = false;
        /**
         * The grid size to snap resizing and dragging of events to
         */
        this.eventSnapSize = this.hourSegmentHeight;
        /**
        * Whether to snap events to a grid when dragging
        */
        this.snapDraggedEvents = true;
        /**
         * The day start hours in 24 hour time. Must be 0-23
         */
        this.dayStartHour = 0;
        /**
         * The day start minutes. Must be 0-59
         */
        this.dayStartMinute = 0;
        /**
         * The day end hours in 24 hour time. Must be 0-23
         */
        this.dayEndHour = 23;
        /**
         * The day end minutes. Must be 0-59
         */
        this.dayEndMinute = 59;
        /**
         * The width in pixels of each event on the view
         */
        this.eventWidthPercent = DEFAULT_EVENT_WIDTH_PERCENT;
        /**
         * Called when a header week day is clicked
         */
        this.dayHeaderClicked = new EventEmitter();
        /**
         * Called when the hour is clicked
         */
        this.hourClicked = new EventEmitter();
        /**
         * Called when the segment is clicked
         */
        this.segmentClicked = new EventEmitter();
        /**
         * Called when the event is clicked
         */
        this.eventClicked = new EventEmitter();
        /**
         * Called when an event is resized or dragged and dropped
         */
        this.eventTimesChanged = new EventEmitter();
        /**
         * @hidden
         */
        this.hours = [];
        /**
         * @hidden
         */
        // resizes: Map<CalendarSchedulerEvent, SchedulerResizeEvent> = new Map();
        this.resizes = new Map();
        /**
         * @hidden
         */
        this.eventDragEnter = 0;
        /**
         * @hidden
         */
        this.dragActive = false;
        /**
         * @hidden
         */
        this.calendarId = Symbol('angular calendar scheduler view id');
        /**
         * @hidden
         */
        this.trackByHourColumn = trackByHourColumn;
        /**
         * @hidden
         */
        this.trackByDayOrEvent = trackByDayOrEvent;
        /**
         * @hidden
         */
        this.trackByHour = trackByHour;
        /**
         * @hidden
         */
        this.trackByHourSegment = trackByHourSegment;
        this.locale = this.config.locale || locale;
    }
    /**
     * @hidden
     */
    CalendarSchedulerViewComponent.prototype.ngOnInit = function () {
        var _this = this;
        if (this.refresh) {
            this.refreshSubscription = this.refresh.subscribe(function () {
                _this.refreshAll();
                _this.cdr.markForCheck();
            });
        }
    };
    /**
     * @hidden
     */
    CalendarSchedulerViewComponent.prototype.ngOnChanges = function (changes) {
        if (changes.viewDate || changes.excludeDays || changes.weekendDays) {
            this.refreshHeader();
        }
        if (changes.viewDate ||
            changes.events ||
            changes.dayStartHour ||
            changes.dayEndHour ||
            changes.dayStartMinute ||
            changes.dayEndMinute ||
            changes.excludeDays ||
            changes.eventWidth) {
            this.refreshHourGrid();
            this.refreshBody();
        }
    };
    /**
     * @hidden
     */
    CalendarSchedulerViewComponent.prototype.ngOnDestroy = function () {
        if (this.refreshSubscription) {
            this.refreshSubscription.unsubscribe();
        }
    };
    CalendarSchedulerViewComponent.prototype.getPositioningClasses = function (day, event) {
        var classes = [
            this.getDayClass(event.start),
            this.getTimeClass(day.date, event),
            this.getLengthClass(day.date, event)
        ];
        return classes.join(' ');
    };
    CalendarSchedulerViewComponent.prototype.getDayClass = function (date) {
        return '';
    };
    CalendarSchedulerViewComponent.prototype.getTimeClass = function (date, event) {
        if (this.dateAdapter.isSameDay(date, event.start)) {
            var hours = event.start.getHours();
            if (this.dayStartHour > 0) {
                hours = event.start.getHours() - this.dayStartHour;
            }
            var hoursString = hours < 10 ? "0" + hours : "" + hours;
            var minutesString = event.start.getMinutes() < 10 ? "0" + event.start.getMinutes() : "" + event.start.getMinutes();
            return "time" + hoursString + minutesString;
        }
        else if (isBefore(event.start, this.dateAdapter.startOfDay(date))) {
            return "time0000";
        }
    };
    CalendarSchedulerViewComponent.prototype.getLengthClass = function (date, event) {
        if (this.dateAdapter.isSameDay(date, event.start)) {
            var durationInMinutes = this.dateAdapter.differenceInMinutes(event.end, event.start);
            var leftToEndOfDay = this.dateAdapter.differenceInMinutes(this.dateAdapter.setMinutes(this.dateAdapter.setHours(event.start, this.dayEndHour + 1), 0), event.start);
            return leftToEndOfDay > durationInMinutes ? "length" + durationInMinutes : "length" + leftToEndOfDay;
        }
        else if (isBefore(event.start, this.dateAdapter.startOfDay(date))) {
            var leftDurationInMinutes = 0;
            if (this.dateAdapter.isSameDay(date, event.end)) {
                leftDurationInMinutes = this.dateAdapter.differenceInMinutes(event.end, this.dateAdapter.startOfDay(date));
                if (this.dayStartHour > 0) {
                    leftDurationInMinutes = (event.end.getHours() - this.dayStartHour) * MINUTES_IN_HOUR;
                }
            }
            else {
                leftDurationInMinutes = ((this.dayEndHour + 1) - this.dayStartHour) * MINUTES_IN_HOUR;
            }
            return "length" + leftDurationInMinutes;
        }
    };
    CalendarSchedulerViewComponent.prototype.refreshHourGrid = function () {
        this.hours = this.utils.getSchedulerViewHourGrid({
            viewDate: this.viewDate,
            hourSegments: this.hourSegments,
            dayStart: {
                hour: this.dayStartHour,
                minute: this.dayStartMinute
            },
            dayEnd: {
                hour: this.dayEndHour,
                minute: this.dayEndMinute
            }
        });
    };
    CalendarSchedulerViewComponent.prototype.refreshHeader = function () {
        this.days = this.utils.getSchedulerViewDays({
            viewDate: this.viewDate,
            weekStartsOn: this.weekStartsOn,
            startsWithToday: this.startsWithToday,
            excluded: this.excludeDays,
            weekendDays: this.weekendDays
        });
    };
    CalendarSchedulerViewComponent.prototype.refreshBody = function (events) {
        var _this = this;
        this.view = this.getSchedulerView(events || this.events);
        this.view.days.forEach(function (day) {
            day.events.forEach(function (event) {
                _this.scaleOverlappingEvents(event.event.start, event.event.end, day.events);
            });
        });
        if (this.dayModifier) {
            this.days.forEach(function (day) { return _this.dayModifier(day); });
        }
        if (this.dayModifier || this.hourModifier || this.segmentModifier) {
            this.view.days.forEach(function (day) {
                if (_this.dayModifier) {
                    _this.dayModifier(day);
                }
                day.hours.forEach(function (hour) {
                    if (_this.hourModifier) {
                        _this.hourModifier(hour);
                    }
                    hour.segments.forEach(function (segment) {
                        if (_this.segmentModifier) {
                            _this.segmentModifier(segment);
                        }
                    });
                });
            });
        }
        if (this.eventModifier) {
            this.events.forEach(function (event) { return _this.eventModifier(event); });
        }
    };
    CalendarSchedulerViewComponent.prototype.refreshAll = function () {
        this.refreshHeader();
        this.refreshHourGrid();
        this.refreshBody();
    };
    CalendarSchedulerViewComponent.prototype.getSchedulerView = function (events) {
        return this.utils.getSchedulerView({
            events: events,
            viewDate: this.viewDate,
            hourSegments: this.hourSegments,
            weekStartsOn: this.weekStartsOn,
            startsWithToday: this.startsWithToday,
            dayStart: {
                hour: this.dayStartHour,
                minute: this.dayStartMinute
            },
            dayEnd: {
                hour: this.dayEndHour,
                minute: this.dayEndMinute
            },
            excluded: this.excludeDays,
            eventWidth: this.eventWidthPercent,
            hourSegmentHeight: this.hourSegmentHeight
        });
    };
    CalendarSchedulerViewComponent.prototype.scaleOverlappingEvents = function (startTime, endTime, events) {
        var newStartTime = startTime;
        var newEndTime = endTime;
        var overlappingEvents = [];
        var maxLeft = 0;
        events.forEach(function (event) {
            if (event.isProcessed) {
                return;
            }
            if (event.event.start < startTime && event.event.end > startTime) {
                newStartTime = event.event.start;
            }
            else if (event.event.end > endTime && event.event.start < endTime) {
                newEndTime = event.event.end;
            }
            else if (event.event.end <= endTime && event.event.start >= startTime) {
                // Nothing, but remove condition and add equals to above two for overlapping effect
            }
            else {
                return;
            }
            if (event.left > maxLeft) {
                maxLeft = event.left;
            }
            overlappingEvents.push(event);
        });
        if (startTime === newStartTime && endTime === newEndTime) {
            var divisorFactor_1 = Math.floor(maxLeft / this.eventWidthPercent) + 1;
            overlappingEvents.forEach(function (event) {
                event.isProcessed = true;
                event.left /= divisorFactor_1;
                event.width /= divisorFactor_1;
            });
        }
        else {
            this.scaleOverlappingEvents(newStartTime, newEndTime, events);
        }
    };
    //#region RESIZE
    /**
     * @hidden
     */
    CalendarSchedulerViewComponent.prototype.resizeStarted = function (eventsContainer, event, resizeEvent) {
        this.resizes.set(event.event, resizeEvent);
        this.dayColumnWidth = Math.floor(eventsContainer.offsetWidth / this.days.length);
        var resizeHelper = new CalendarResizeHelper(eventsContainer);
        this.validateResize = function (_a) {
            var rectangle = _a.rectangle;
            return resizeHelper.validateResize({ rectangle: rectangle });
        };
        this.cdr.markForCheck();
    };
    /**
     * @hidden
     */
    CalendarSchedulerViewComponent.prototype.resizing = function (event, resizeEvent) {
        var _this = this;
        this.resizes.set(event.event, resizeEvent);
        var adjustedEvents = new Map();
        var tempEvents = tslib_1.__spread(this.events);
        this.resizes.forEach(function (lastResizeEvent, ev) {
            var newEventDates = _this.getResizedEventDates(ev, lastResizeEvent);
            var adjustedEvent = tslib_1.__assign({}, ev, newEventDates);
            adjustedEvents.set(adjustedEvent, ev);
            var eventIndex = tempEvents.indexOf(ev);
            tempEvents[eventIndex] = adjustedEvent;
        });
        this.restoreOriginalEvents(tempEvents, adjustedEvents);
    };
    /**
     * @hidden
     */
    CalendarSchedulerViewComponent.prototype.resizeEnded = function (event) {
        this.view = this.getSchedulerView(this.events);
        var lastResizeEvent = this.resizes.get(event.event);
        this.resizes.delete(event.event);
        var newEventDates = this.getResizedEventDates(event.event, lastResizeEvent);
        this.eventTimesChanged.emit({
            newStart: newEventDates.start,
            newEnd: newEventDates.end,
            event: event.event,
            type: CalendarEventTimesChangedEventType.Resize
        });
    };
    CalendarSchedulerViewComponent.prototype.getResizedEventDates = function (event, resizeEvent) {
        var minimumEventHeight = getMinimumEventHeightInMinutes(this.hourSegments, this.hourSegmentHeight);
        var newEventDates = {
            start: event.start,
            end: getDefaultEventEnd(this.dateAdapter, event, minimumEventHeight)
        };
        var end = event.end, eventWithoutEnd = tslib_1.__rest(event, ["end"]);
        var smallestResizes = {
            start: this.dateAdapter.addMinutes(newEventDates.end, minimumEventHeight * -1),
            end: getDefaultEventEnd(this.dateAdapter, eventWithoutEnd, minimumEventHeight)
        };
        if (resizeEvent.edges.left) {
            var daysDiff = Math.round(+resizeEvent.edges.left / this.dayColumnWidth);
            var newStart = this.dateAdapter.addDays(newEventDates.start, daysDiff);
            if (newStart < smallestResizes.start) {
                newEventDates.start = newStart;
            }
            else {
                newEventDates.start = smallestResizes.start;
            }
        }
        else if (resizeEvent.edges.right) {
            var daysDiff = Math.round(+resizeEvent.edges.right / this.dayColumnWidth);
            var newEnd = this.dateAdapter.addDays(newEventDates.end, daysDiff);
            if (newEnd > smallestResizes.end) {
                newEventDates.end = newEnd;
            }
            else {
                newEventDates.end = smallestResizes.end;
            }
        }
        if (resizeEvent.edges.top) {
            var precision = this.eventSnapSize || this.hourSegmentHeight;
            var draggedInPixelsSnapSize = Math.round(resizeEvent.edges.top / precision) * precision;
            var pixelAmountInMinutes = MINUTES_IN_HOUR / (this.hourSegments * this.hourSegmentHeight);
            var minutesMoved = draggedInPixelsSnapSize * pixelAmountInMinutes;
            var newStart = this.dateAdapter.addMinutes(newEventDates.start, minutesMoved);
            if (newStart < smallestResizes.start) {
                newEventDates.start = newStart;
            }
            else {
                newEventDates.start = smallestResizes.start;
            }
        }
        else if (resizeEvent.edges.bottom) {
            var precision = this.eventSnapSize || this.hourSegmentHeight;
            var draggedInPixelsSnapSize = Math.round(resizeEvent.edges.bottom / precision) * precision;
            var pixelAmountInMinutes = MINUTES_IN_HOUR / (this.hourSegments * this.hourSegmentHeight);
            var minutesMoved = draggedInPixelsSnapSize * pixelAmountInMinutes;
            var newEnd = this.dateAdapter.addMinutes(newEventDates.end, minutesMoved);
            if (newEnd > smallestResizes.end) {
                newEventDates.end = newEnd;
            }
            else {
                newEventDates.end = smallestResizes.end;
            }
        }
        return newEventDates;
    };
    //#endregion
    //#region DRAG & DROP
    /**
     * @hidden
     */
    CalendarSchedulerViewComponent.prototype.eventDropped = function (dropEvent, date) {
        if (shouldFireDroppedEvent(dropEvent, date, this.calendarId)) {
            this.eventTimesChanged.emit({
                type: CalendarEventTimesChangedEventType.Drop,
                event: dropEvent.dropData.event,
                newStart: date,
                newEnd: null
            });
        }
    };
    /**
     * @hidden
     */
    CalendarSchedulerViewComponent.prototype.dragStarted = function (eventsContainer, eventContainer, event) {
        var _this = this;
        this.dayColumnWidth = Math.floor(eventsContainer.offsetWidth / this.days.length);
        var dragHelper = new CalendarDragHelper(eventsContainer, eventContainer);
        this.validateDrag = function (_a) {
            var x = _a.x, y = _a.y;
            return _this.resizes.size === 0 && dragHelper.validateDrag({ x: x, y: y, snapDraggedEvents: _this.snapDraggedEvents });
        };
        this.dragActive = true;
        this.eventDragEnter = 0;
        if (!this.snapDraggedEvents && event) {
            this.view.days.forEach(function (day) {
                var linkedEvent = day.events.find(function (ev) { return ev.event === event.event && ev !== event; });
                // hide any linked events while dragging
                if (linkedEvent) {
                    linkedEvent.width = 0;
                    linkedEvent.height = 0;
                }
            });
        }
        this.cdr.markForCheck();
    };
    /**
     * @hidden
     */
    CalendarSchedulerViewComponent.prototype.dragMove = function (event, dragEvent) {
        if (this.snapDraggedEvents) {
            var newEventTimes = this.getDragMovedEventTimes(event, dragEvent, this.dayColumnWidth, true);
            var originalEvent_1 = event.event;
            var adjustedEvent_1 = tslib_1.__assign({}, originalEvent_1, newEventTimes);
            var tempEvents = this.events.map(function (ev) {
                if (ev === originalEvent_1) {
                    return adjustedEvent_1;
                }
                return ev;
            });
            this.restoreOriginalEvents(tempEvents, new Map([[adjustedEvent_1, originalEvent_1]]));
        }
    };
    CalendarSchedulerViewComponent.prototype.dragEnded = function (event, dragEndEvent, dayWidth, useY) {
        if (useY === void 0) { useY = false; }
        this.view = this.getSchedulerView(this.events);
        this.dragActive = false;
        var _a = this.getDragMovedEventTimes(event, dragEndEvent, dayWidth, useY), start = _a.start, end = _a.end;
        if (this.eventDragEnter > 0 && isDraggedWithinPeriod(start, end, this.view.period)) {
            this.eventTimesChanged.emit({
                newStart: start,
                newEnd: end,
                event: event.event,
                type: CalendarEventTimesChangedEventType.Drag
            });
        }
    };
    CalendarSchedulerViewComponent.prototype.getDragMovedEventTimes = function (event, dragEndEvent, dayWidth, useY) {
        var daysDragged = roundToNearest(dragEndEvent.x, dayWidth) / dayWidth;
        var minutesMoved = useY ?
            getMinutesMoved(dragEndEvent.y, this.hourSegments, this.hourSegmentHeight, this.eventSnapSize)
            : 0;
        var start = this.dateAdapter.addMinutes(this.dateAdapter.addDays(event.event.start, daysDragged), minutesMoved);
        var end;
        if (event.event.end) {
            end = this.dateAdapter.addMinutes(this.dateAdapter.addDays(event.event.end, daysDragged), minutesMoved);
        }
        return { start: start, end: end };
    };
    CalendarSchedulerViewComponent.prototype.restoreOriginalEvents = function (tempEvents, adjustedEvents) {
        this.refreshBody(tempEvents);
        var adjustedEventsArray = tempEvents.filter(function (event) { return adjustedEvents.has(event); });
        this.view.days.forEach(function (day) {
            adjustedEventsArray.forEach(function (adjustedEvent) {
                var originalEvent = adjustedEvents.get(adjustedEvent);
                var existingColumnEvent = day.events.find(function (ev) { return ev.event === adjustedEvent; });
                if (existingColumnEvent) {
                    // restore the original event so trackBy kicks in and the dom isn't changed
                    existingColumnEvent.event = originalEvent;
                }
                else {
                    // add a dummy event to the drop so if the event was removed from the original column the drag doesn't end early
                    day.events.push({
                        event: originalEvent,
                        left: 0,
                        top: 0,
                        height: 0,
                        width: 0,
                        startsBeforeDay: false,
                        endsAfterDay: false
                    });
                }
            });
        });
        adjustedEvents.clear();
    };
    tslib_1.__decorate([
        Input(),
        tslib_1.__metadata("design:type", Date)
    ], CalendarSchedulerViewComponent.prototype, "viewDate", void 0);
    tslib_1.__decorate([
        Input(),
        tslib_1.__metadata("design:type", Array)
    ], CalendarSchedulerViewComponent.prototype, "events", void 0);
    tslib_1.__decorate([
        Input(),
        tslib_1.__metadata("design:type", Number)
    ], CalendarSchedulerViewComponent.prototype, "hourSegments", void 0);
    tslib_1.__decorate([
        Input(),
        tslib_1.__metadata("design:type", Number)
    ], CalendarSchedulerViewComponent.prototype, "hourSegmentHeight", void 0);
    tslib_1.__decorate([
        Input(),
        tslib_1.__metadata("design:type", Array)
    ], CalendarSchedulerViewComponent.prototype, "excludeDays", void 0);
    tslib_1.__decorate([
        Input(),
        tslib_1.__metadata("design:type", Boolean)
    ], CalendarSchedulerViewComponent.prototype, "startsWithToday", void 0);
    tslib_1.__decorate([
        Input(),
        tslib_1.__metadata("design:type", Boolean)
    ], CalendarSchedulerViewComponent.prototype, "showEventContent", void 0);
    tslib_1.__decorate([
        Input(),
        tslib_1.__metadata("design:type", Boolean)
    ], CalendarSchedulerViewComponent.prototype, "showEventActions", void 0);
    tslib_1.__decorate([
        Input(),
        tslib_1.__metadata("design:type", Boolean)
    ], CalendarSchedulerViewComponent.prototype, "showEventStatus", void 0);
    tslib_1.__decorate([
        Input(),
        tslib_1.__metadata("design:type", Boolean)
    ], CalendarSchedulerViewComponent.prototype, "showSegmentHour", void 0);
    tslib_1.__decorate([
        Input(),
        tslib_1.__metadata("design:type", Function)
    ], CalendarSchedulerViewComponent.prototype, "dayModifier", void 0);
    tslib_1.__decorate([
        Input(),
        tslib_1.__metadata("design:type", Function)
    ], CalendarSchedulerViewComponent.prototype, "hourModifier", void 0);
    tslib_1.__decorate([
        Input(),
        tslib_1.__metadata("design:type", Function)
    ], CalendarSchedulerViewComponent.prototype, "segmentModifier", void 0);
    tslib_1.__decorate([
        Input(),
        tslib_1.__metadata("design:type", Function)
    ], CalendarSchedulerViewComponent.prototype, "eventModifier", void 0);
    tslib_1.__decorate([
        Input(),
        tslib_1.__metadata("design:type", Subject)
    ], CalendarSchedulerViewComponent.prototype, "refresh", void 0);
    tslib_1.__decorate([
        Input(),
        tslib_1.__metadata("design:type", String)
    ], CalendarSchedulerViewComponent.prototype, "locale", void 0);
    tslib_1.__decorate([
        Input(),
        tslib_1.__metadata("design:type", Number)
    ], CalendarSchedulerViewComponent.prototype, "eventSnapSize", void 0);
    tslib_1.__decorate([
        Input(),
        tslib_1.__metadata("design:type", Boolean)
    ], CalendarSchedulerViewComponent.prototype, "snapDraggedEvents", void 0);
    tslib_1.__decorate([
        Input(),
        tslib_1.__metadata("design:type", Number)
    ], CalendarSchedulerViewComponent.prototype, "weekStartsOn", void 0);
    tslib_1.__decorate([
        Input(),
        tslib_1.__metadata("design:type", TemplateRef)
    ], CalendarSchedulerViewComponent.prototype, "headerTemplate", void 0);
    tslib_1.__decorate([
        Input(),
        tslib_1.__metadata("design:type", TemplateRef)
    ], CalendarSchedulerViewComponent.prototype, "cellTemplate", void 0);
    tslib_1.__decorate([
        Input(),
        tslib_1.__metadata("design:type", TemplateRef)
    ], CalendarSchedulerViewComponent.prototype, "eventTemplate", void 0);
    tslib_1.__decorate([
        Input(),
        tslib_1.__metadata("design:type", TemplateRef)
    ], CalendarSchedulerViewComponent.prototype, "eventTitleTemplate", void 0);
    tslib_1.__decorate([
        Input(),
        tslib_1.__metadata("design:type", TemplateRef)
    ], CalendarSchedulerViewComponent.prototype, "allDayEventTemplate", void 0);
    tslib_1.__decorate([
        Input(),
        tslib_1.__metadata("design:type", Array)
    ], CalendarSchedulerViewComponent.prototype, "weekendDays", void 0);
    tslib_1.__decorate([
        Input(),
        tslib_1.__metadata("design:type", Number)
    ], CalendarSchedulerViewComponent.prototype, "dayStartHour", void 0);
    tslib_1.__decorate([
        Input(),
        tslib_1.__metadata("design:type", Number)
    ], CalendarSchedulerViewComponent.prototype, "dayStartMinute", void 0);
    tslib_1.__decorate([
        Input(),
        tslib_1.__metadata("design:type", Number)
    ], CalendarSchedulerViewComponent.prototype, "dayEndHour", void 0);
    tslib_1.__decorate([
        Input(),
        tslib_1.__metadata("design:type", Number)
    ], CalendarSchedulerViewComponent.prototype, "dayEndMinute", void 0);
    tslib_1.__decorate([
        Input(),
        tslib_1.__metadata("design:type", Number)
    ], CalendarSchedulerViewComponent.prototype, "eventWidthPercent", void 0);
    tslib_1.__decorate([
        Output(),
        tslib_1.__metadata("design:type", EventEmitter)
    ], CalendarSchedulerViewComponent.prototype, "dayHeaderClicked", void 0);
    tslib_1.__decorate([
        Output(),
        tslib_1.__metadata("design:type", EventEmitter)
    ], CalendarSchedulerViewComponent.prototype, "hourClicked", void 0);
    tslib_1.__decorate([
        Output(),
        tslib_1.__metadata("design:type", EventEmitter)
    ], CalendarSchedulerViewComponent.prototype, "segmentClicked", void 0);
    tslib_1.__decorate([
        Output(),
        tslib_1.__metadata("design:type", EventEmitter)
    ], CalendarSchedulerViewComponent.prototype, "eventClicked", void 0);
    tslib_1.__decorate([
        Output(),
        tslib_1.__metadata("design:type", EventEmitter)
    ], CalendarSchedulerViewComponent.prototype, "eventTimesChanged", void 0);
    CalendarSchedulerViewComponent = tslib_1.__decorate([
        Component({
            selector: 'calendar-scheduler-view',
            template: "\n        <div class=\"cal-scheduler-view\">\n            <calendar-scheduler-header\n                [days]=\"days\"\n                [locale]=\"locale\"\n                [customTemplate]=\"headerTemplate\"\n                (dayHeaderClicked)=\"dayHeaderClicked.emit($event)\">\n            </calendar-scheduler-header>\n\n            <div class=\"cal-scheduler\" #calendarContainer>\n                <div class=\"cal-scheduler-hour-rows aside\">\n                    <div class=\"cal-scheduler-hour align-center horizontal\" *ngFor=\"let hour of hours; trackBy:trackByHour\">\n                      <div class=\"cal-scheduler-time\">\n                        <div class=\"cal-scheduler-time-segment\" *ngFor=\"let segment of hour.segments\"\n                            [style.height.px]=\"hourSegmentHeight\">\n                            {{ segment.date | calendarDate:'dayViewHour':locale }}\n                        </div>\n                      </div>\n                    </div>\n                </div>\n\n                <div class=\"cal-scheduler-cols aside\" #dayColumns\n                    [class.cal-resize-active]=\"resizes.size > 0\"\n                    mwlDroppable\n                    (dragEnter)=\"eventDragEnter = eventDragEnter + 1\"\n                    (dragLeave)=\"eventDragEnter = eventDragEnter - 1\">\n                    <div class=\"cal-scheduler-col\"\n                        *ngFor=\"let day of view.days; trackBy:trackByHourColumn\"\n                        [ngClass]=\"day?.cssClass\"\n                        [style.backgroundColor]=\"day.backgroundColor\">\n                        <div #eventContainer\n                            class=\"cal-scheduler-event-container\"\n                            *ngFor=\"let event of day.events; trackBy:trackByDayOrEvent\"\n                            [ngClass]=\"event.event?.cssClass\"\n                            [hidden]=\"event.height === 0 && event.width === 0\"\n                            [style.top.px]=\"event.top\"\n                            [style.height.px]=\"event.height\"\n                            [style.left.%]=\"event.left\"\n                            [style.width.%]=\"event.width\"\n\n                            mwlResizable\n                            [resizeSnapGrid]=\"{left: dayColumnWidth, right: dayColumnWidth, top: eventSnapSize || hourSegmentHeight, bottom: eventSnapSize || hourSegmentHeight}\"\n                            [validateResize]=\"validateResize\"\n                            [allowNegativeResizes]=\"true\"\n                            (resizeStart)=\"resizeStarted(dayColumns, event, $event)\"\n                            (resizing)=\"resizing(event, $event)\"\n                            (resizeEnd)=\"resizeEnded(event)\"\n\n                            mwlDraggable\n                            dragActiveClass=\"cal-drag-active\"\n                            [dropData]=\"{event: event.event, calendarId: calendarId}\"\n                            [dragAxis]=\"{\n                                x: event.event.draggable && resizes.size === 0,\n                                y: event.event.draggable && resizes.size === 0\n                            }\"\n                            [dragSnapGrid]=\"snapDraggedEvents ? {x: dayColumnWidth, y: eventSnapSize || hourSegmentHeight} : {}\"\n                            [ghostDragEnabled]=\"!snapDraggedEvents\"\n                            [validateDrag]=\"validateDrag\"\n                            (dragPointerDown)=\"dragStarted(dayColumns, eventContainer, event)\"\n                            (dragging)=\"dragMove(event, $event)\"\n                            (dragEnd)=\"dragEnded(event, $event, dayColumnWidth, true)\">\n\n                            <div *ngIf=\"event.event?.resizable?.beforeStart && !event.startsBeforeDay\"\n                                class=\"cal-resize-handle cal-resize-handle-before-start\"\n                                mwlResizeHandle\n                                [resizeEdges]=\"{\n                                    left: true,\n                                    top: true\n                                }\">\n                            </div>\n                            <calendar-scheduler-event\n                                [day]=\"day\"\n                                [event]=\"event\"\n                                [showContent]=\"showEventContent && event.height >= 75\"\n                                [showActions]=\"showEventActions\"\n                                [showStatus]=\"showEventStatus\"\n                                [customTemplate]=\"eventTemplate\"\n                                [eventTitleTemplate]=\"eventTitleTemplate\"\n                                (eventClicked)=\"eventClicked.emit($event)\">\n                            </calendar-scheduler-event>\n                            <div *ngIf=\"event.event?.resizable?.afterEnd && !event.endsAfterDay\"\n                                class=\"cal-resize-handle cal-resize-handle-after-end\"\n                                mwlResizeHandle\n                                [resizeEdges]=\"{\n                                    right: true,\n                                    bottom: true\n                                }\">\n                            </div>\n                        </div>\n\n                        <div class=\"cal-scheduler-hour\"\n                            *ngFor=\"let hour of day.hours; let i = index; trackBy:trackByHour\"\n                            [class.cal-even]=\"i % 2 === 0\"\n                            [class.cal-odd]=\"i % 2 === 1\"\n                            [ngClass]=\"hour.cssClass\"\n                            [style.backgroundColor]=\"hour.backgroundColor\"\n                            (mwlClick)=\"hourClicked.emit({hour: hour})\"\n                            [class.cal-past]=\"day.isPast\"\n                            [class.cal-today]=\"day.isToday\"\n                            [class.cal-future]=\"day.isFuture\"\n                            [class.cal-weekend]=\"day.isWeekend\"\n                            [class.cal-in-month]=\"day.inMonth\"\n                            [class.cal-out-month]=\"!day.inMonth\">\n                            <div class=\"cal-scheduler-hour-segments\">\n                                <calendar-scheduler-hour-segment\n                                    *ngFor=\"let segment of hour.segments; trackBy:trackByHourSegment\"\n                                    [day]=\"day\"\n                                    [segment]=\"segment\"\n                                    [locale]=\"locale\"\n                                    [customTemplate]=\"cellTemplate\"\n                                    [hourSegmentHeight]=\"hourSegmentHeight\"\n                                    [showHour]=\"showSegmentHour\"\n                                    (segmentClicked)=\"segmentClicked.emit($event)\"\n                                    mwlDroppable\n                                    [dragOverClass]=\"!dragActive || !snapDraggedEvents ? 'cal-drag-over' : 'null'\"\n                                    dragActiveClass=\"cal-drag-active\"\n                                    (drop)=\"eventDropped($event, segment.date)\">\n                                </calendar-scheduler-hour-segment>\n                             </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    ",
            encapsulation: ViewEncapsulation.None,
            styles: [".cal-scheduler-view *{box-sizing:border-box}.cal-scheduler-view .cal-scheduler-headers{display:flex;flex-flow:row wrap;margin-bottom:3px;border:1px solid #e1e1e1}.cal-scheduler-view .cal-scheduler-headers .aside{flex:1 0}.cal-scheduler-view .cal-scheduler-headers .aside.cal-header-clock{max-width:5em}.cal-scheduler-view .cal-scheduler-headers .cal-header{flex:1;text-align:center;padding:5px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;cursor:default}.cal-scheduler-view .cal-scheduler-headers .cal-header:not(:last-child){border-right:1px solid #e1e1e1}.cal-scheduler-view .cal-scheduler-headers .cal-header:hover{background-color:#ededed}.cal-scheduler-view .cal-scheduler-headers .cal-header.cal-today{background-color:#e8fde7}.cal-scheduler-view .cal-scheduler-headers .cal-header.cal-weekend span{color:#8b0000}.cal-scheduler-view .cal-scheduler-headers .cal-header span{font-weight:400;opacity:.5}.cal-scheduler-view .cal-scheduler,.cal-scheduler-view .cal-scheduler-headers .cal-header-cols{display:flex;flex-flow:row wrap}.cal-scheduler-view .cal-scheduler .aside{flex:1 0}.cal-scheduler-view .cal-scheduler .aside.cal-scheduler-hour-rows{max-width:5em}.cal-scheduler-view .cal-scheduler .cal-scheduler-hour-rows{width:auto!important;border:1px solid #e1e1e1;overflow:hidden;position:relative}.cal-scheduler-view .cal-scheduler .cal-scheduler-hour-rows .cal-scheduler-hour{display:flex}.cal-scheduler-view .cal-scheduler .cal-scheduler-hour-rows .cal-scheduler-hour:nth-child(odd){background-color:#fafafa}.cal-scheduler-view .cal-scheduler .cal-scheduler-hour-rows .cal-scheduler-hour:not(:last-child){border-bottom:1px solid #e1e1e1}.cal-scheduler-view .cal-scheduler .cal-scheduler-hour-rows .cal-scheduler-hour .cal-scheduler-time{display:flex;flex-flow:column wrap;width:100%;font-weight:700;text-align:center}.cal-scheduler-view .cal-scheduler .cal-scheduler-hour-rows .cal-scheduler-hour .cal-scheduler-time .cal-scheduler-time-segment{cursor:default}.cal-scheduler-view .cal-scheduler .cal-scheduler-hour-rows .cal-scheduler-hour .cal-scheduler-time .cal-scheduler-time-segment:hover{background-color:#ededed}.cal-scheduler-view .cal-scheduler .cal-scheduler-hour-rows .cal-scheduler-hour .cal-scheduler-time .cal-scheduler-time-segment:not(:last-child){border-bottom:thin dashed #e1e1e1}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols{display:flex;flex-flow:row wrap;border-top:1px solid #e1e1e1}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols:not(.cal-resize-active) .cal-scheduler-hour-segment:hover{background-color:#ededed}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col{display:flex;flex-flow:column wrap;flex:1 0;position:relative;border-right:1px solid #e1e1e1}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-hour{display:flex;flex-flow:column wrap;flex:1 0}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-hour.cal-today{background-color:#e8fde7}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-hour.cal-disabled{background-color:#eee;pointer-events:none}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-hour.cal-odd{background:#fff}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-hour.cal-even{background:#fafafa}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-hour .cal-scheduler-hour-segments{display:flex;flex-flow:column wrap;flex:1 0;border-bottom:1px solid #e1e1e1}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-hour .cal-scheduler-hour-segments.no-border{border-bottom:0!important}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-hour .cal-scheduler-hour-segments.cal-disabled{background-color:#eee;pointer-events:none}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-hour .cal-scheduler-hour-segments.cal-disabled .cal-scheduler-event{filter:opacity(50%);-webkit-filter:opacity(50%)}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-hour .cal-scheduler-hour-segments :not(:last-child) .cal-scheduler-hour-segment{border-bottom:thin dashed #e1e1e1}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-hour .cal-scheduler-hour-segments .cal-scheduler-hour-segment{flex:1 0;display:flex;flex-flow:column wrap}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-hour .cal-scheduler-hour-segments .cal-scheduler-hour-segment.no-border{border-bottom:0!important}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-hour .cal-scheduler-hour-segments .cal-scheduler-hour-segment.cal-disabled{background-color:#eee;pointer-events:none}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-hour .cal-scheduler-hour-segments .cal-scheduler-hour-segment.cal-drag-over{background-color:#ededed}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-hour .cal-scheduler-hour-segments .cal-scheduler-hour-segment .cal-scheduler-time{font-weight:700;font-size:.7em;color:#6c757d}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container{flex:1 0;display:-ms-flexbox;flex-flow:column wrap;position:absolute}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container .cal-scheduler-event{flex:1 0;display:flex;flex-flow:column wrap;padding:0 10px;font-size:12px;margin:2px;line-height:30px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;border-radius:.3em;border:1px solid #1e90ff;background-color:#d1e8ff;height:calc(100% - 5px);transition:all ease-out .2s;filter:brightness(100%);-webkit-filter:brightness(100%);-webkit-backface-visibility:hidden}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container .cal-scheduler-event.cal-disabled{background-color:gray!important;filter:grayscale(100%);-webkit-filter:grayscale(100%)}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container .cal-scheduler-event.cal-not-clickable{cursor:not-allowed!important}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container .cal-scheduler-event:not(.cal-disabled):hover{cursor:pointer;filter:brightness(95%);-webkit-filter:brightness(95%)}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container .cal-scheduler-event:not(.cal-disabled).cal-draggable{cursor:move}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container .cal-scheduler-event.cal-starts-before-day{border-top-left-radius:0;border-top-right-radius:0}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container .cal-scheduler-event.cal-ends-after-day{border-bottom-left-radius:0;border-bottom-right-radius:0}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container .cal-scheduler-event .cal-scheduler-event-title-container{width:100%;display:flex;flex-flow:row wrap}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container .cal-scheduler-event .cal-scheduler-event-title-container .cal-scheduler-event-title{flex:1 0;font-size:16px;font-weight:700;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container .cal-scheduler-event .cal-scheduler-event-title-container .cal-scheduler-event-status{margin:7px 0;width:16px;height:16px;background:grey;border-radius:50px;border:1px solid #000}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container .cal-scheduler-event .cal-scheduler-event-title-container .cal-scheduler-event-status.ok{background:green}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container .cal-scheduler-event .cal-scheduler-event-title-container .cal-scheduler-event-status.warning{background:orange}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container .cal-scheduler-event .cal-scheduler-event-title-container .cal-scheduler-event-status.danger{background:red}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container .cal-scheduler-event .cal-scheduler-event-content-container{flex:1 auto;width:100%;padding-right:1.5em}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container .cal-scheduler-event .cal-scheduler-event-content-container .cal-scheduler-event-content{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container .cal-scheduler-event .cal-scheduler-event-actions-container{width:100%;position:relative}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container .cal-scheduler-event .cal-scheduler-event-actions-container.no-content-actions{flex:1 0}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container .cal-scheduler-event .cal-scheduler-event-actions-container:not(.no-content-actions) .cal-scheduler-event-actions{position:absolute;bottom:5px;right:0}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container .cal-scheduler-event .cal-scheduler-event-actions-container .cal-scheduler-event-actions .cal-scheduler-event-action{text-decoration:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container .cal-resize-handle{width:100%;height:4px;cursor:row-resize;position:absolute}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container .cal-resize-handle.cal-resize-handle-after-end{bottom:0}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.cal-drag-active{pointer-events:none;z-index:999}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.cal-drag-active *{pointer-events:none}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.day1{left:5%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.day2{left:10%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.day3{left:15%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.day4{left:20%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.day5{left:25%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.day6{left:30%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.day7{left:35%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.time0000{top:0}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.time0015{top:1.47%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.time0030{top:2.94%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.time0045{top:4.41%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.time0100{top:5.88%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.time0115{top:7.35%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.time0130{top:8.82%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.time0145{top:10.29%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.time0200{top:11.76%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.time0215{top:13.23%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.time0230{top:14.7%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.time0245{top:16.17%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.time0300{top:17.64%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.time0315{top:19.11%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.time0330{top:20.58%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.time0345{top:22.05%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.time0400{top:23.52%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.time0415{top:24.99%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.time0430{top:26.46%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.time0445{top:27.93%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.time0500{top:29.4%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.time0515{top:30.87%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.time0530{top:32.34%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.time0545{top:33.81%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.time0600{top:35.28%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.time0615{top:36.75%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.time0630{top:38.22%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.time0645{top:39.69%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.time0700{top:41.16%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.time0715{top:42.63%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.time0730{top:44.1%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.time0745{top:45.57%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.time0800{top:47.04%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.time0815{top:48.51%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.time0830{top:49.98%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.time0845{top:51.45%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.time0900{top:52.92%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.time0915{top:54.39%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.time0930{top:55.86%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.time0945{top:57.33%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.time1000{top:58.8%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.time1015{top:60.27%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.time1030{top:61.74%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.time1045{top:63.21%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.time1100{top:64.68%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.time1115{top:66.15%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.time1130{top:67.62%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.time1145{top:69.09%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.time1200{top:70.56%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.time1215{top:72.03%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.time1230{top:73.5%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.time1245{top:74.97%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.time1300{top:76.44%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.time1315{top:77.91%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.time1330{top:79.38%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.time1345{top:80.85%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.time1400{top:82.32%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.time1415{top:83.79%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.time1430{top:85.26%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.time1445{top:86.73%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.time1500{top:88.2%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.time1515{top:89.67%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.time1530{top:91.14%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.time1545{top:92.61%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.time1600{top:94.08%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.time1615{top:95.55%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.time1630{top:97.02%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.time1645{top:98.49%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.time1700{top:99.96%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.time1715{top:101.43%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.time1730{top:102.9%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.time1745{top:104.37%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.time1800{top:105.84%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.time1815{top:107.31%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.time1830{top:108.78%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.time1845{top:110.25%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.time1900{top:111.72%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.time1915{top:113.19%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.time1930{top:114.66%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.time1945{top:116.13%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.time2000{top:117.6%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.time2015{top:119.07%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.time2030{top:120.54%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.time2045{top:122.01%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.time2100{top:123.48%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.time2115{top:124.95%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.time2130{top:126.42%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.time2145{top:127.89%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.time2200{top:129.36%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.time2215{top:130.83%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.time2230{top:132.3%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.time2245{top:133.77%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.time2300{top:135.24%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.time2315{top:136.71%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.time2330{top:138.18%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.time2345{top:139.65%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.time2400{top:141.12%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.length0{height:0%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.length15{height:1.47%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.length30{height:2.94%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.length45{height:4.41%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.length60{height:5.88%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.length75{height:7.35%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.length90{height:8.82%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.length105{height:10.29%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.length120{height:11.76%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.length135{height:13.23%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.length150{height:14.7%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.length165{height:16.17%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.length180{height:17.64%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.length195{height:19.11%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.length210{height:20.58%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.length225{height:22.05%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.length240{height:23.52%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.length255{height:24.99%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.length270{height:26.46%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.length285{height:27.93%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.length300{height:29.4%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.length315{height:30.87%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.length330{height:32.34%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.length345{height:33.81%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.length360{height:35.28%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.length375{height:36.75%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.length390{height:38.22%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.length405{height:39.69%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.length420{height:41.16%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.length435{height:42.63%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.length450{height:44.1%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.length465{height:45.57%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.length480{height:47.04%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.length495{height:48.51%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.length510{height:49.98%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.length525{height:51.45%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.length540{height:52.92%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.length555{height:54.39%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.length570{height:55.86%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.length585{height:57.33%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.length600{height:58.8%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.length615{height:60.27%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.length630{height:61.74%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.length645{height:63.21%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.length660{height:64.68%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.length675{height:66.15%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.length690{height:67.62%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.length705{height:69.09%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.length720{height:70.56%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.length735{height:72.03%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.length750{height:73.5%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.length765{height:74.97%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.length780{height:76.44%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.length795{height:77.91%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.length810{height:79.38%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.length825{height:80.85%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.length840{height:82.32%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.length855{height:83.79%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.length870{height:85.26%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.length885{height:86.73%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.length900{height:88.2%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.length915{height:89.67%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.length930{height:91.14%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.length945{height:92.61%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.length960{height:94.08%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.length975{height:95.55%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.length990{height:97.02%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.length1005{height:98.49%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.length1020{height:99.96%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.length1035{height:101.43%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.length1050{height:102.9%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.length1065{height:104.37%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.length1080{height:105.84%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.length1095{height:107.31%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.length1110{height:108.78%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.length1125{height:110.25%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.length1140{height:111.72%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.length1155{height:113.19%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.length1170{height:114.66%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.length1185{height:116.13%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.length1200{height:117.6%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.length1215{height:119.07%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.length1230{height:120.54%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.length1245{height:122.01%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.length1260{height:123.48%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.length1275{height:124.95%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.length1290{height:126.42%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.length1305{height:127.89%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.length1320{height:129.36%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.length1335{height:130.83%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.length1350{height:132.3%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.length1365{height:133.77%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.length1380{height:135.24%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.length1395{height:136.71%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.length1410{height:138.18%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.length1425{height:139.65%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-event-container.length1440{height:141.12%}"]
        }),
        tslib_1.__param(1, Inject(LOCALE_ID)),
        tslib_1.__metadata("design:paramtypes", [ChangeDetectorRef, String, SchedulerConfig,
            CalendarSchedulerUtils, DateAdapter])
    ], CalendarSchedulerViewComponent);
    return CalendarSchedulerViewComponent;
}());
export { CalendarSchedulerViewComponent };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2FsZW5kYXItc2NoZWR1bGVyLXZpZXcuY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6Im5nOi8vYW5ndWxhci1jYWxlbmRhci1zY2hlZHVsZXIvIiwic291cmNlcyI6WyJtb2R1bGVzL3NjaGVkdWxlci9jYWxlbmRhci1zY2hlZHVsZXItdmlldy5jb21wb25lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLE9BQU8sRUFDSCxTQUFTLEVBQ1QsS0FBSyxFQUNMLE1BQU0sRUFDTixZQUFZLEVBQ1osaUJBQWlCLEVBSWpCLFNBQVMsRUFDVCxNQUFNLEVBQ04sV0FBVyxFQUNYLGlCQUFpQixFQUNwQixNQUFNLGVBQWUsQ0FBQztBQUN2QixPQUFPLEVBQUUsT0FBTyxFQUFnQixNQUFNLE1BQU0sQ0FBQztBQUk3QyxPQUFPLEVBQ0gsUUFBUSxFQUNYLE1BQU0sVUFBVSxDQUFDO0FBRWxCLE9BQU8sRUFBRSxrQkFBa0IsRUFBRSxNQUFNLHVFQUF1RSxDQUFDO0FBQzNHLE9BQU8sRUFBRSxvQkFBb0IsRUFBRSxNQUFNLHlFQUF5RSxDQUFDO0FBQy9HLE9BQU8sRUFBRSxlQUFlLEVBQUUsTUFBTSxvQkFBb0IsQ0FBQztBQUNyRCxPQUFPLEVBQUUsa0NBQWtDLEVBQUUsV0FBVyxFQUFFLE1BQU0sa0JBQWtCLENBQUM7QUFZbkYsT0FBTyxFQUNILHNCQUFzQixFQUN0QixxQkFBcUIsRUFDckIsY0FBYyxFQUNkLGVBQWUsRUFDZixpQkFBaUIsRUFDakIsaUJBQWlCLEVBQ2pCLFdBQVcsRUFDWCxrQkFBa0IsRUFDbEIsOEJBQThCLEVBQzlCLGtCQUFrQixFQUNyQixNQUFNLGlCQUFpQixDQUFDO0FBQ3pCLE9BQU8sRUFDSCxxQkFBcUIsRUFDckIsOEJBQThCLEVBQzlCLDJCQUEyQixFQUMzQixlQUFlLEVBQ2xCLE1BQU0sa0NBQWtDLENBQUM7QUFDMUMsT0FBTyxFQUFFLHNCQUFzQixFQUFFLE1BQU0sMkNBQTJDLENBQUM7QUFFbkY7Ozs7Ozs7Ozs7R0FVRztB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O0lBSzFHO1FBQVQsTUFBTSxFQUFFOzBDQUFjLFlBQVk7dUVBQWdGO0lBS3pHO1FBQVQsTUFBTSxFQUFFOzBDQUFpQixZQUFZOzBFQUFvRztJQUtoSTtRQUFULE1BQU0sRUFBRTswQ0FBZSxZQUFZO3dFQUE0RjtJQUt0SDtRQUFULE1BQU0sRUFBRTswQ0FBb0IsWUFBWTs2RUFBd0Y7SUFuS3hILDhCQUE4QjtRQWxJMUMsU0FBUyxDQUFDO1lBQ1AsUUFBUSxFQUFFLHlCQUF5QjtZQUNuQyxRQUFRLEVBQUUseTBPQTRIVDtZQUVELGFBQWEsRUFBRSxpQkFBaUIsQ0FBQyxJQUFJOztTQUN4QyxDQUFDO1FBcVArQyxtQkFBQSxNQUFNLENBQUMsU0FBUyxDQUFDLENBQUE7aURBQXJDLGlCQUFpQixVQUFxRCxlQUFlO1lBQzNGLHNCQUFzQixFQUF1QixXQUFXO09BclBsRSw4QkFBOEIsQ0E4c0IxQztJQUFELHFDQUFDO0NBQUEsQUE5c0JELElBOHNCQztTQTlzQlksOEJBQThCIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcclxuICAgIENvbXBvbmVudCxcclxuICAgIElucHV0LFxyXG4gICAgT3V0cHV0LFxyXG4gICAgRXZlbnRFbWl0dGVyLFxyXG4gICAgQ2hhbmdlRGV0ZWN0b3JSZWYsXHJcbiAgICBPbkNoYW5nZXMsXHJcbiAgICBPbkluaXQsXHJcbiAgICBPbkRlc3Ryb3ksXHJcbiAgICBMT0NBTEVfSUQsXHJcbiAgICBJbmplY3QsXHJcbiAgICBUZW1wbGF0ZVJlZixcclxuICAgIFZpZXdFbmNhcHN1bGF0aW9uXHJcbn0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcbmltcG9ydCB7IFN1YmplY3QsIFN1YnNjcmlwdGlvbiB9IGZyb20gJ3J4anMnO1xyXG5pbXBvcnQge1xyXG4gICAgRGF5Vmlld0hvdXJcclxufSBmcm9tICdjYWxlbmRhci11dGlscyc7XHJcbmltcG9ydCB7XHJcbiAgICBpc0JlZm9yZVxyXG59IGZyb20gJ2RhdGUtZm5zJztcclxuaW1wb3J0IHsgUmVzaXplRXZlbnQgfSBmcm9tICdhbmd1bGFyLXJlc2l6YWJsZS1lbGVtZW50JztcclxuaW1wb3J0IHsgQ2FsZW5kYXJEcmFnSGVscGVyIH0gZnJvbSAnYW5ndWxhci1jYWxlbmRhci9lc20yMDE1L21vZHVsZXMvY29tbW9uL2NhbGVuZGFyLWRyYWctaGVscGVyLnByb3ZpZGVyJztcclxuaW1wb3J0IHsgQ2FsZW5kYXJSZXNpemVIZWxwZXIgfSBmcm9tICdhbmd1bGFyLWNhbGVuZGFyL2VzbTIwMTUvbW9kdWxlcy9jb21tb24vY2FsZW5kYXItcmVzaXplLWhlbHBlci5wcm92aWRlcic7XHJcbmltcG9ydCB7IFNjaGVkdWxlckNvbmZpZyB9IGZyb20gJy4vc2NoZWR1bGVyLWNvbmZpZyc7XHJcbmltcG9ydCB7IENhbGVuZGFyRXZlbnRUaW1lc0NoYW5nZWRFdmVudFR5cGUsIERhdGVBZGFwdGVyIH0gZnJvbSAnYW5ndWxhci1jYWxlbmRhcic7XHJcbmltcG9ydCB7IERyYWdNb3ZlRXZlbnQsIERyYWdFbmRFdmVudCwgRHJvcEV2ZW50IH0gZnJvbSAnYW5ndWxhci1kcmFnZ2FibGUtZHJvcHBhYmxlJztcclxuXHJcbmltcG9ydCB7XHJcbiAgICBDYWxlbmRhclNjaGVkdWxlckV2ZW50LFxyXG4gICAgU2NoZWR1bGVyVmlld0RheSxcclxuICAgIFNjaGVkdWxlclZpZXdIb3VyLFxyXG4gICAgU2NoZWR1bGVyVmlld0hvdXJTZWdtZW50LFxyXG4gICAgU2NoZWR1bGVyRXZlbnRUaW1lc0NoYW5nZWRFdmVudCxcclxuICAgIFNjaGVkdWxlclZpZXdFdmVudCxcclxuICAgIFNjaGVkdWxlclZpZXdcclxufSBmcm9tICcuL21vZGVscyc7XHJcbmltcG9ydCB7XHJcbiAgICBzaG91bGRGaXJlRHJvcHBlZEV2ZW50LFxyXG4gICAgaXNEcmFnZ2VkV2l0aGluUGVyaW9kLFxyXG4gICAgcm91bmRUb05lYXJlc3QsXHJcbiAgICBnZXRNaW51dGVzTW92ZWQsXHJcbiAgICB0cmFja0J5SG91ckNvbHVtbixcclxuICAgIHRyYWNrQnlEYXlPckV2ZW50LFxyXG4gICAgdHJhY2tCeUhvdXIsXHJcbiAgICB0cmFja0J5SG91clNlZ21lbnQsXHJcbiAgICBnZXRNaW5pbXVtRXZlbnRIZWlnaHRJbk1pbnV0ZXMsXHJcbiAgICBnZXREZWZhdWx0RXZlbnRFbmRcclxufSBmcm9tICcuLi9jb21tb24vdXRpbHMnO1xyXG5pbXBvcnQge1xyXG4gICAgREVGQVVMVF9IT1VSX1NFR01FTlRTLFxyXG4gICAgREVGQVVMVF9IT1VSX1NFR01FTlRfSEVJR0hUX1BYLFxyXG4gICAgREVGQVVMVF9FVkVOVF9XSURUSF9QRVJDRU5ULFxyXG4gICAgTUlOVVRFU19JTl9IT1VSXHJcbn0gZnJvbSAnLi91dGlscy9jYWxlbmRhci1zY2hlZHVsZXItdXRpbHMnO1xyXG5pbXBvcnQgeyBDYWxlbmRhclNjaGVkdWxlclV0aWxzIH0gZnJvbSAnLi91dGlscy9jYWxlbmRhci1zY2hlZHVsZXItdXRpbHMucHJvdmlkZXInO1xyXG5cclxuLyoqXHJcbiAqICBbbmdDbGFzc109XCJnZXRQb3NpdGlvbmluZ0NsYXNzZXMoZXZlbnQpXCJcclxuICpcclxuICogIFtzdHlsZS50b3AucHhdPVwiZXZlbnQudG9wXCJcclxuICogIFtzdHlsZS5oZWlnaHQucHhdPVwiZXZlbnQuaGVpZ2h0XCJcclxuICogIFtzdHlsZS5sZWZ0LiVdPVwiZXZlbnQubGVmdFwiXHJcbiAqICBbc3R5bGUud2lkdGguJV09XCJldmVudC53aWR0aFwiXHJcbiAqXHJcbiAqICBEUkFHICYgRFJPUCAmIFJFU0laRSAtPiBodHRwczovL2dpdGh1Yi5jb20vbWF0dGxld2lzOTIvYW5ndWxhci1jYWxlbmRhci9ibG9iL21hc3Rlci9wcm9qZWN0cy9hbmd1bGFyLWNhbGVuZGFyL3NyYy9tb2R1bGVzL3dlZWsvY2FsZW5kYXItd2Vlay12aWV3LmNvbXBvbmVudC50c1xyXG4gKiAgRkxFWEJPWCAtPiBodHRwczovL2Nzcy10cmlja3MuY29tL3NuaXBwZXRzL2Nzcy9hLWd1aWRlLXRvLWZsZXhib3gvXHJcbiAqL1xyXG5AQ29tcG9uZW50KHtcclxuICAgIHNlbGVjdG9yOiAnY2FsZW5kYXItc2NoZWR1bGVyLXZpZXcnLFxyXG4gICAgdGVtcGxhdGU6IGBcclxuICAgICAgICA8ZGl2IGNsYXNzPVwiY2FsLXNjaGVkdWxlci12aWV3XCI+XHJcbiAgICAgICAgICAgIDxjYWxlbmRhci1zY2hlZHVsZXItaGVhZGVyXHJcbiAgICAgICAgICAgICAgICBbZGF5c109XCJkYXlzXCJcclxuICAgICAgICAgICAgICAgIFtsb2NhbGVdPVwibG9jYWxlXCJcclxuICAgICAgICAgICAgICAgIFtjdXN0b21UZW1wbGF0ZV09XCJoZWFkZXJUZW1wbGF0ZVwiXHJcbiAgICAgICAgICAgICAgICAoZGF5SGVhZGVyQ2xpY2tlZCk9XCJkYXlIZWFkZXJDbGlja2VkLmVtaXQoJGV2ZW50KVwiPlxyXG4gICAgICAgICAgICA8L2NhbGVuZGFyLXNjaGVkdWxlci1oZWFkZXI+XHJcblxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY2FsLXNjaGVkdWxlclwiICNjYWxlbmRhckNvbnRhaW5lcj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjYWwtc2NoZWR1bGVyLWhvdXItcm93cyBhc2lkZVwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjYWwtc2NoZWR1bGVyLWhvdXIgYWxpZ24tY2VudGVyIGhvcml6b250YWxcIiAqbmdGb3I9XCJsZXQgaG91ciBvZiBob3VyczsgdHJhY2tCeTp0cmFja0J5SG91clwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNhbC1zY2hlZHVsZXItdGltZVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY2FsLXNjaGVkdWxlci10aW1lLXNlZ21lbnRcIiAqbmdGb3I9XCJsZXQgc2VnbWVudCBvZiBob3VyLnNlZ21lbnRzXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtzdHlsZS5oZWlnaHQucHhdPVwiaG91clNlZ21lbnRIZWlnaHRcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHt7IHNlZ21lbnQuZGF0ZSB8IGNhbGVuZGFyRGF0ZTonZGF5Vmlld0hvdXInOmxvY2FsZSB9fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNhbC1zY2hlZHVsZXItY29scyBhc2lkZVwiICNkYXlDb2x1bW5zXHJcbiAgICAgICAgICAgICAgICAgICAgW2NsYXNzLmNhbC1yZXNpemUtYWN0aXZlXT1cInJlc2l6ZXMuc2l6ZSA+IDBcIlxyXG4gICAgICAgICAgICAgICAgICAgIG13bERyb3BwYWJsZVxyXG4gICAgICAgICAgICAgICAgICAgIChkcmFnRW50ZXIpPVwiZXZlbnREcmFnRW50ZXIgPSBldmVudERyYWdFbnRlciArIDFcIlxyXG4gICAgICAgICAgICAgICAgICAgIChkcmFnTGVhdmUpPVwiZXZlbnREcmFnRW50ZXIgPSBldmVudERyYWdFbnRlciAtIDFcIj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY2FsLXNjaGVkdWxlci1jb2xcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAqbmdGb3I9XCJsZXQgZGF5IG9mIHZpZXcuZGF5czsgdHJhY2tCeTp0cmFja0J5SG91ckNvbHVtblwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFtuZ0NsYXNzXT1cImRheT8uY3NzQ2xhc3NcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBbc3R5bGUuYmFja2dyb3VuZENvbG9yXT1cImRheS5iYWNrZ3JvdW5kQ29sb3JcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiAjZXZlbnRDb250YWluZXJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwiY2FsLXNjaGVkdWxlci1ldmVudC1jb250YWluZXJcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKm5nRm9yPVwibGV0IGV2ZW50IG9mIGRheS5ldmVudHM7IHRyYWNrQnk6dHJhY2tCeURheU9yRXZlbnRcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgW25nQ2xhc3NdPVwiZXZlbnQuZXZlbnQ/LmNzc0NsYXNzXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtoaWRkZW5dPVwiZXZlbnQuaGVpZ2h0ID09PSAwICYmIGV2ZW50LndpZHRoID09PSAwXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtzdHlsZS50b3AucHhdPVwiZXZlbnQudG9wXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtzdHlsZS5oZWlnaHQucHhdPVwiZXZlbnQuaGVpZ2h0XCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtzdHlsZS5sZWZ0LiVdPVwiZXZlbnQubGVmdFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBbc3R5bGUud2lkdGguJV09XCJldmVudC53aWR0aFwiXHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbXdsUmVzaXphYmxlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBbcmVzaXplU25hcEdyaWRdPVwie2xlZnQ6IGRheUNvbHVtbldpZHRoLCByaWdodDogZGF5Q29sdW1uV2lkdGgsIHRvcDogZXZlbnRTbmFwU2l6ZSB8fCBob3VyU2VnbWVudEhlaWdodCwgYm90dG9tOiBldmVudFNuYXBTaXplIHx8IGhvdXJTZWdtZW50SGVpZ2h0fVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBbdmFsaWRhdGVSZXNpemVdPVwidmFsaWRhdGVSZXNpemVcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgW2FsbG93TmVnYXRpdmVSZXNpemVzXT1cInRydWVcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKHJlc2l6ZVN0YXJ0KT1cInJlc2l6ZVN0YXJ0ZWQoZGF5Q29sdW1ucywgZXZlbnQsICRldmVudClcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKHJlc2l6aW5nKT1cInJlc2l6aW5nKGV2ZW50LCAkZXZlbnQpXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChyZXNpemVFbmQpPVwicmVzaXplRW5kZWQoZXZlbnQpXCJcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtd2xEcmFnZ2FibGVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRyYWdBY3RpdmVDbGFzcz1cImNhbC1kcmFnLWFjdGl2ZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBbZHJvcERhdGFdPVwie2V2ZW50OiBldmVudC5ldmVudCwgY2FsZW5kYXJJZDogY2FsZW5kYXJJZH1cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgW2RyYWdBeGlzXT1cIntcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB4OiBldmVudC5ldmVudC5kcmFnZ2FibGUgJiYgcmVzaXplcy5zaXplID09PSAwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHk6IGV2ZW50LmV2ZW50LmRyYWdnYWJsZSAmJiByZXNpemVzLnNpemUgPT09IDBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgW2RyYWdTbmFwR3JpZF09XCJzbmFwRHJhZ2dlZEV2ZW50cyA/IHt4OiBkYXlDb2x1bW5XaWR0aCwgeTogZXZlbnRTbmFwU2l6ZSB8fCBob3VyU2VnbWVudEhlaWdodH0gOiB7fVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBbZ2hvc3REcmFnRW5hYmxlZF09XCIhc25hcERyYWdnZWRFdmVudHNcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgW3ZhbGlkYXRlRHJhZ109XCJ2YWxpZGF0ZURyYWdcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRyYWdQb2ludGVyRG93bik9XCJkcmFnU3RhcnRlZChkYXlDb2x1bW5zLCBldmVudENvbnRhaW5lciwgZXZlbnQpXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkcmFnZ2luZyk9XCJkcmFnTW92ZShldmVudCwgJGV2ZW50KVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZHJhZ0VuZCk9XCJkcmFnRW5kZWQoZXZlbnQsICRldmVudCwgZGF5Q29sdW1uV2lkdGgsIHRydWUpXCI+XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiAqbmdJZj1cImV2ZW50LmV2ZW50Py5yZXNpemFibGU/LmJlZm9yZVN0YXJ0ICYmICFldmVudC5zdGFydHNCZWZvcmVEYXlcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwiY2FsLXJlc2l6ZS1oYW5kbGUgY2FsLXJlc2l6ZS1oYW5kbGUtYmVmb3JlLXN0YXJ0XCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtd2xSZXNpemVIYW5kbGVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbcmVzaXplRWRnZXNdPVwie1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZWZ0OiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3A6IHRydWVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjYWxlbmRhci1zY2hlZHVsZXItZXZlbnRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbZGF5XT1cImRheVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW2V2ZW50XT1cImV2ZW50XCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbc2hvd0NvbnRlbnRdPVwic2hvd0V2ZW50Q29udGVudCAmJiBldmVudC5oZWlnaHQgPj0gNzVcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtzaG93QWN0aW9uc109XCJzaG93RXZlbnRBY3Rpb25zXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbc2hvd1N0YXR1c109XCJzaG93RXZlbnRTdGF0dXNcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtjdXN0b21UZW1wbGF0ZV09XCJldmVudFRlbXBsYXRlXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbZXZlbnRUaXRsZVRlbXBsYXRlXT1cImV2ZW50VGl0bGVUZW1wbGF0ZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGV2ZW50Q2xpY2tlZCk9XCJldmVudENsaWNrZWQuZW1pdCgkZXZlbnQpXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2NhbGVuZGFyLXNjaGVkdWxlci1ldmVudD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgKm5nSWY9XCJldmVudC5ldmVudD8ucmVzaXphYmxlPy5hZnRlckVuZCAmJiAhZXZlbnQuZW5kc0FmdGVyRGF5XCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cImNhbC1yZXNpemUtaGFuZGxlIGNhbC1yZXNpemUtaGFuZGxlLWFmdGVyLWVuZFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbXdsUmVzaXplSGFuZGxlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW3Jlc2l6ZUVkZ2VzXT1cIntcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmlnaHQ6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvdHRvbTogdHJ1ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjYWwtc2NoZWR1bGVyLWhvdXJcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKm5nRm9yPVwibGV0IGhvdXIgb2YgZGF5LmhvdXJzOyBsZXQgaSA9IGluZGV4OyB0cmFja0J5OnRyYWNrQnlIb3VyXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtjbGFzcy5jYWwtZXZlbl09XCJpICUgMiA9PT0gMFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBbY2xhc3MuY2FsLW9kZF09XCJpICUgMiA9PT0gMVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBbbmdDbGFzc109XCJob3VyLmNzc0NsYXNzXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtzdHlsZS5iYWNrZ3JvdW5kQ29sb3JdPVwiaG91ci5iYWNrZ3JvdW5kQ29sb3JcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKG13bENsaWNrKT1cImhvdXJDbGlja2VkLmVtaXQoe2hvdXI6IGhvdXJ9KVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBbY2xhc3MuY2FsLXBhc3RdPVwiZGF5LmlzUGFzdFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBbY2xhc3MuY2FsLXRvZGF5XT1cImRheS5pc1RvZGF5XCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtjbGFzcy5jYWwtZnV0dXJlXT1cImRheS5pc0Z1dHVyZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBbY2xhc3MuY2FsLXdlZWtlbmRdPVwiZGF5LmlzV2Vla2VuZFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBbY2xhc3MuY2FsLWluLW1vbnRoXT1cImRheS5pbk1vbnRoXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtjbGFzcy5jYWwtb3V0LW1vbnRoXT1cIiFkYXkuaW5Nb250aFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNhbC1zY2hlZHVsZXItaG91ci1zZWdtZW50c1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjYWxlbmRhci1zY2hlZHVsZXItaG91ci1zZWdtZW50XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICpuZ0Zvcj1cImxldCBzZWdtZW50IG9mIGhvdXIuc2VnbWVudHM7IHRyYWNrQnk6dHJhY2tCeUhvdXJTZWdtZW50XCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW2RheV09XCJkYXlcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbc2VnbWVudF09XCJzZWdtZW50XCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW2xvY2FsZV09XCJsb2NhbGVcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbY3VzdG9tVGVtcGxhdGVdPVwiY2VsbFRlbXBsYXRlXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW2hvdXJTZWdtZW50SGVpZ2h0XT1cImhvdXJTZWdtZW50SGVpZ2h0XCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW3Nob3dIb3VyXT1cInNob3dTZWdtZW50SG91clwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChzZWdtZW50Q2xpY2tlZCk9XCJzZWdtZW50Q2xpY2tlZC5lbWl0KCRldmVudClcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtd2xEcm9wcGFibGVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW2RyYWdPdmVyQ2xhc3NdPVwiIWRyYWdBY3RpdmUgfHwgIXNuYXBEcmFnZ2VkRXZlbnRzID8gJ2NhbC1kcmFnLW92ZXInIDogJ251bGwnXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZHJhZ0FjdGl2ZUNsYXNzPVwiY2FsLWRyYWctYWN0aXZlXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRyb3ApPVwiZXZlbnREcm9wcGVkKCRldmVudCwgc2VnbWVudC5kYXRlKVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvY2FsZW5kYXItc2NoZWR1bGVyLWhvdXItc2VnbWVudD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICBgLFxyXG4gICAgc3R5bGVVcmxzOiBbJy4vY2FsZW5kYXItc2NoZWR1bGVyLXZpZXcuY29tcG9uZW50LnNjc3MnXSxcclxuICAgIGVuY2Fwc3VsYXRpb246IFZpZXdFbmNhcHN1bGF0aW9uLk5vbmVcclxufSlcclxuZXhwb3J0IGNsYXNzIENhbGVuZGFyU2NoZWR1bGVyVmlld0NvbXBvbmVudCBpbXBsZW1lbnRzIE9uQ2hhbmdlcywgT25Jbml0LCBPbkRlc3Ryb3kge1xyXG4gICAgLyoqXHJcbiAgICAgKiBUaGUgY3VycmVudCB2aWV3IGRhdGVcclxuICAgICAqL1xyXG4gICAgQElucHV0KCkgdmlld0RhdGU6IERhdGU7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBBbiBhcnJheSBvZiBldmVudHMgdG8gZGlzcGxheSBvbiB2aWV3XHJcbiAgICAgKi9cclxuICAgIEBJbnB1dCgpIGV2ZW50czogQ2FsZW5kYXJTY2hlZHVsZXJFdmVudFtdID0gW107XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUaGUgbnVtYmVyIG9mIHNlZ21lbnRzIGluIGFuIGhvdXIuIE11c3QgYmUgb25lIG9mIDEsIDIsIDQsIDZcclxuICAgICAqL1xyXG4gICAgQElucHV0KCkgaG91clNlZ21lbnRzOiAxIHwgMiB8IDQgfCA2ID0gREVGQVVMVF9IT1VSX1NFR01FTlRTO1xyXG5cclxuICAgIC8qKlxyXG4gICAgKiBUaGUgaGVpZ2h0IGluIHBpeGVscyBvZiBlYWNoIGhvdXIgc2VnbWVudFxyXG4gICAgKi9cclxuICAgIEBJbnB1dCgpIGhvdXJTZWdtZW50SGVpZ2h0OiBudW1iZXIgPSBERUZBVUxUX0hPVVJfU0VHTUVOVF9IRUlHSFRfUFg7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBBbiBhcnJheSBvZiBkYXkgaW5kZXhlcyAoMCA9IHN1bmRheSwgMSA9IG1vbmRheSBldGMpIHRoYXQgd2lsbCBiZSBoaWRkZW4gb24gdGhlIHZpZXdcclxuICAgICAqL1xyXG4gICAgQElucHV0KCkgZXhjbHVkZURheXM6IG51bWJlcltdID0gW107XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBTcGVjaWZ5IGlmIHRoZSBmaXJzdCBkYXkgb2YgY3VycmVudCBzY2hlZHVsZXIgdmlldyBoYXMgdG8gYmUgdG9kYXkgb3IgdGhlIGZpcnN0IGRheSBvZiB0aGUgd2Vla1xyXG4gICAgICovXHJcbiAgICBASW5wdXQoKSBzdGFydHNXaXRoVG9kYXk6IGJvb2xlYW4gPSBmYWxzZTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFNwZWNpZnkgaWYgY29udGVudCBtdXN0IGJlIHNob3duIG9yIG5vdFxyXG4gICAgICovXHJcbiAgICBASW5wdXQoKSBzaG93RXZlbnRDb250ZW50OiBib29sZWFuID0gdHJ1ZTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFNwZWNpZnkgaWYgYWN0aW9ucyBtdXN0IGJlIHNob3duIG9yIG5vdFxyXG4gICAgICovXHJcbiAgICBASW5wdXQoKSBzaG93RXZlbnRBY3Rpb25zOiBib29sZWFuID0gdHJ1ZTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFNwZWNpZnkgaWYgc3RhdHVzIG11c3QgYmUgc2hvd24gb3Igbm90XHJcbiAgICAgKi9cclxuICAgIEBJbnB1dCgpIHNob3dFdmVudFN0YXR1czogYm9vbGVhbiA9IHRydWU7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBTcGVjaWZ5IGlmIGhvdXIgbXVzdCBiZSBzaG93biBvbiBzZWdtZW50IG9yIG5vdFxyXG4gICAgICovXHJcbiAgICBASW5wdXQoKSBzaG93U2VnbWVudEhvdXI6IGJvb2xlYW4gPSBmYWxzZTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEEgZnVuY3Rpb24gdGhhdCB3aWxsIGJlIGNhbGxlZCBiZWZvcmUgZWFjaCBjZWxsIGlzIHJlbmRlcmVkLiBUaGUgZmlyc3QgYXJndW1lbnQgd2lsbCBjb250YWluIHRoZSBjYWxlbmRhciAoZGF5LCBob3VyIG9yIHNlZ21lbnQpIGNlbGwuXHJcbiAgICAgKiBJZiB5b3UgYWRkIHRoZSBgY3NzQ2xhc3NgIHByb3BlcnR5IHRvIHRoZSBjZWxsIGl0IHdpbGwgYWRkIHRoYXQgY2xhc3MgdG8gdGhlIGNlbGwgaW4gdGhlIHRlbXBsYXRlXHJcbiAgICAgKi9cclxuICAgIEBJbnB1dCgpIGRheU1vZGlmaWVyOiBGdW5jdGlvbjtcclxuICAgIEBJbnB1dCgpIGhvdXJNb2RpZmllcjogRnVuY3Rpb247XHJcbiAgICBASW5wdXQoKSBzZWdtZW50TW9kaWZpZXI6IEZ1bmN0aW9uO1xyXG4gICAgQElucHV0KCkgZXZlbnRNb2RpZmllcjogRnVuY3Rpb247XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBBbiBvYnNlcnZhYmxlIHRoYXQgd2hlbiBlbWl0dGVkIG9uIHdpbGwgcmUtcmVuZGVyIHRoZSBjdXJyZW50IHZpZXdcclxuICAgICAqL1xyXG4gICAgQElucHV0KCkgcmVmcmVzaDogU3ViamVjdDxhbnk+O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogVGhlIGxvY2FsZSB1c2VkIHRvIGZvcm1hdCBkYXRlc1xyXG4gICAgICovXHJcbiAgICBASW5wdXQoKSBsb2NhbGU6IHN0cmluZztcclxuXHJcbiAgICAvKipcclxuICAgICAqIFRoZSBncmlkIHNpemUgdG8gc25hcCByZXNpemluZyBhbmQgZHJhZ2dpbmcgb2YgZXZlbnRzIHRvXHJcbiAgICAgKi9cclxuICAgIEBJbnB1dCgpIGV2ZW50U25hcFNpemU6IG51bWJlciA9IHRoaXMuaG91clNlZ21lbnRIZWlnaHQ7XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIFdoZXRoZXIgdG8gc25hcCBldmVudHMgdG8gYSBncmlkIHdoZW4gZHJhZ2dpbmdcclxuICAgICovXHJcbiAgICBASW5wdXQoKSBzbmFwRHJhZ2dlZEV2ZW50czogYm9vbGVhbiA9IHRydWU7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUaGUgc3RhcnQgbnVtYmVyIG9mIHRoZSB3ZWVrXHJcbiAgICAgKi9cclxuICAgIEBJbnB1dCgpIHdlZWtTdGFydHNPbjogbnVtYmVyO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQSBjdXN0b20gdGVtcGxhdGUgdG8gdXNlIHRvIHJlcGxhY2UgdGhlIGhlYWRlclxyXG4gICAgICovXHJcbiAgICBASW5wdXQoKSBoZWFkZXJUZW1wbGF0ZTogVGVtcGxhdGVSZWY8YW55PjtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEEgY3VzdG9tIHRlbXBsYXRlIHRvIHVzZSB0byByZXBsYWNlIHRoZSBkYXkgY2VsbFxyXG4gICAgICovXHJcbiAgICBASW5wdXQoKSBjZWxsVGVtcGxhdGU6IFRlbXBsYXRlUmVmPGFueT47XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBBIGN1c3RvbSB0ZW1wbGF0ZSB0byB1c2UgZm9yIHdlZWsgdmlldyBldmVudHNcclxuICAgICAqL1xyXG4gICAgQElucHV0KCkgZXZlbnRUZW1wbGF0ZTogVGVtcGxhdGVSZWY8YW55PjtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEEgY3VzdG9tIHRlbXBsYXRlIHRvIHVzZSBmb3IgZXZlbnQgdGl0bGVzXHJcbiAgICAgKi9cclxuICAgIEBJbnB1dCgpIGV2ZW50VGl0bGVUZW1wbGF0ZTogVGVtcGxhdGVSZWY8YW55PjtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEEgY3VzdG9tIHRlbXBsYXRlIHRvIHVzZSBmb3IgYWxsIGRheSBldmVudHNcclxuICAgICAqL1xyXG4gICAgQElucHV0KCkgYWxsRGF5RXZlbnRUZW1wbGF0ZTogVGVtcGxhdGVSZWY8YW55PjtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEFuIGFycmF5IG9mIGRheSBpbmRleGVzICgwID0gc3VuZGF5LCAxID0gbW9uZGF5IGV0YykgdGhhdCBpbmRpY2F0ZSB3aGljaCBkYXlzIGFyZSB3ZWVrZW5kc1xyXG4gICAgICovXHJcbiAgICBASW5wdXQoKSB3ZWVrZW5kRGF5czogbnVtYmVyW107XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUaGUgZGF5IHN0YXJ0IGhvdXJzIGluIDI0IGhvdXIgdGltZS4gTXVzdCBiZSAwLTIzXHJcbiAgICAgKi9cclxuICAgIEBJbnB1dCgpIGRheVN0YXJ0SG91cjogbnVtYmVyID0gMDtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFRoZSBkYXkgc3RhcnQgbWludXRlcy4gTXVzdCBiZSAwLTU5XHJcbiAgICAgKi9cclxuICAgIEBJbnB1dCgpIGRheVN0YXJ0TWludXRlOiBudW1iZXIgPSAwO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogVGhlIGRheSBlbmQgaG91cnMgaW4gMjQgaG91ciB0aW1lLiBNdXN0IGJlIDAtMjNcclxuICAgICAqL1xyXG4gICAgQElucHV0KCkgZGF5RW5kSG91cjogbnVtYmVyID0gMjM7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUaGUgZGF5IGVuZCBtaW51dGVzLiBNdXN0IGJlIDAtNTlcclxuICAgICAqL1xyXG4gICAgQElucHV0KCkgZGF5RW5kTWludXRlOiBudW1iZXIgPSA1OTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFRoZSB3aWR0aCBpbiBwaXhlbHMgb2YgZWFjaCBldmVudCBvbiB0aGUgdmlld1xyXG4gICAgICovXHJcbiAgICBASW5wdXQoKSBldmVudFdpZHRoUGVyY2VudDogbnVtYmVyID0gREVGQVVMVF9FVkVOVF9XSURUSF9QRVJDRU5UO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ2FsbGVkIHdoZW4gYSBoZWFkZXIgd2VlayBkYXkgaXMgY2xpY2tlZFxyXG4gICAgICovXHJcbiAgICBAT3V0cHV0KCkgZGF5SGVhZGVyQ2xpY2tlZDogRXZlbnRFbWl0dGVyPHsgZGF5OiBTY2hlZHVsZXJWaWV3RGF5IH0+ID0gbmV3IEV2ZW50RW1pdHRlcjx7IGRheTogU2NoZWR1bGVyVmlld0RheSB9PigpO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ2FsbGVkIHdoZW4gdGhlIGhvdXIgaXMgY2xpY2tlZFxyXG4gICAgICovXHJcbiAgICBAT3V0cHV0KCkgaG91ckNsaWNrZWQ6IEV2ZW50RW1pdHRlcjx7IGhvdXI6IFNjaGVkdWxlclZpZXdIb3VyIH0+ID0gbmV3IEV2ZW50RW1pdHRlcjx7IGhvdXI6IFNjaGVkdWxlclZpZXdIb3VyIH0+KCk7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDYWxsZWQgd2hlbiB0aGUgc2VnbWVudCBpcyBjbGlja2VkXHJcbiAgICAgKi9cclxuICAgIEBPdXRwdXQoKSBzZWdtZW50Q2xpY2tlZDogRXZlbnRFbWl0dGVyPHsgc2VnbWVudDogU2NoZWR1bGVyVmlld0hvdXJTZWdtZW50IH0+ID0gbmV3IEV2ZW50RW1pdHRlcjx7IHNlZ21lbnQ6IFNjaGVkdWxlclZpZXdIb3VyU2VnbWVudCB9PigpO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ2FsbGVkIHdoZW4gdGhlIGV2ZW50IGlzIGNsaWNrZWRcclxuICAgICAqL1xyXG4gICAgQE91dHB1dCgpIGV2ZW50Q2xpY2tlZDogRXZlbnRFbWl0dGVyPHsgZXZlbnQ6IENhbGVuZGFyU2NoZWR1bGVyRXZlbnQgfT4gPSBuZXcgRXZlbnRFbWl0dGVyPHsgZXZlbnQ6IENhbGVuZGFyU2NoZWR1bGVyRXZlbnQgfT4oKTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIENhbGxlZCB3aGVuIGFuIGV2ZW50IGlzIHJlc2l6ZWQgb3IgZHJhZ2dlZCBhbmQgZHJvcHBlZFxyXG4gICAgICovXHJcbiAgICBAT3V0cHV0KCkgZXZlbnRUaW1lc0NoYW5nZWQ6IEV2ZW50RW1pdHRlcjxTY2hlZHVsZXJFdmVudFRpbWVzQ2hhbmdlZEV2ZW50PiA9IG5ldyBFdmVudEVtaXR0ZXI8U2NoZWR1bGVyRXZlbnRUaW1lc0NoYW5nZWRFdmVudD4oKTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEBoaWRkZW5cclxuICAgICAqL1xyXG4gICAgdmlldzogU2NoZWR1bGVyVmlldztcclxuXHJcbiAgICAvKipcclxuICAgICAqIEBoaWRkZW5cclxuICAgICAqL1xyXG4gICAgcmVmcmVzaFN1YnNjcmlwdGlvbjogU3Vic2NyaXB0aW9uO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQGhpZGRlblxyXG4gICAgICovXHJcbiAgICBkYXlzOiBTY2hlZHVsZXJWaWV3RGF5W107XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAaGlkZGVuXHJcbiAgICAgKi9cclxuICAgIGhvdXJzOiBEYXlWaWV3SG91cltdID0gW107XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAaGlkZGVuXHJcbiAgICAgKi9cclxuICAgIC8vIHJlc2l6ZXM6IE1hcDxDYWxlbmRhclNjaGVkdWxlckV2ZW50LCBTY2hlZHVsZXJSZXNpemVFdmVudD4gPSBuZXcgTWFwKCk7XHJcbiAgICByZXNpemVzOiBNYXA8Q2FsZW5kYXJTY2hlZHVsZXJFdmVudCwgUmVzaXplRXZlbnQ+ID0gbmV3IE1hcCgpO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQGhpZGRlblxyXG4gICAgICovXHJcbiAgICBldmVudERyYWdFbnRlcjogbnVtYmVyID0gMDtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEBoaWRkZW5cclxuICAgICAqL1xyXG4gICAgZHJhZ0FjdGl2ZTogYm9vbGVhbiA9IGZhbHNlO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQGhpZGRlblxyXG4gICAgICovXHJcbiAgICB2YWxpZGF0ZVJlc2l6ZTogKGFyZ3M6IGFueSkgPT4gYm9vbGVhbjtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEBoaWRkZW5cclxuICAgICAqL1xyXG4gICAgdmFsaWRhdGVEcmFnOiAoYXJnczogYW55KSA9PiBib29sZWFuO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQGhpZGRlblxyXG4gICAgICovXHJcbiAgICBkYXlDb2x1bW5XaWR0aDogbnVtYmVyO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQGhpZGRlblxyXG4gICAgICovXHJcbiAgICBjYWxlbmRhcklkOiBzeW1ib2wgPSBTeW1ib2woJ2FuZ3VsYXIgY2FsZW5kYXIgc2NoZWR1bGVyIHZpZXcgaWQnKTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEBoaWRkZW5cclxuICAgICAqL1xyXG4gICAgdHJhY2tCeUhvdXJDb2x1bW4gPSB0cmFja0J5SG91ckNvbHVtbjtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEBoaWRkZW5cclxuICAgICAqL1xyXG4gICAgdHJhY2tCeURheU9yRXZlbnQgPSB0cmFja0J5RGF5T3JFdmVudDtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEBoaWRkZW5cclxuICAgICAqL1xyXG4gICAgdHJhY2tCeUhvdXIgPSB0cmFja0J5SG91cjtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEBoaWRkZW5cclxuICAgICAqL1xyXG4gICAgdHJhY2tCeUhvdXJTZWdtZW50ID0gdHJhY2tCeUhvdXJTZWdtZW50O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQGhpZGRlblxyXG4gICAgICovXHJcbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIGNkcjogQ2hhbmdlRGV0ZWN0b3JSZWYsIEBJbmplY3QoTE9DQUxFX0lEKSBsb2NhbGU6IHN0cmluZywgcHJpdmF0ZSBjb25maWc6IFNjaGVkdWxlckNvbmZpZyxcclxuICAgICAgICBwcml2YXRlIHV0aWxzOiBDYWxlbmRhclNjaGVkdWxlclV0aWxzLCBwcml2YXRlIGRhdGVBZGFwdGVyOiBEYXRlQWRhcHRlcikge1xyXG4gICAgICAgIHRoaXMubG9jYWxlID0gdGhpcy5jb25maWcubG9jYWxlIHx8IGxvY2FsZTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEBoaWRkZW5cclxuICAgICAqL1xyXG4gICAgbmdPbkluaXQoKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKHRoaXMucmVmcmVzaCkge1xyXG4gICAgICAgICAgICB0aGlzLnJlZnJlc2hTdWJzY3JpcHRpb24gPSB0aGlzLnJlZnJlc2guc3Vic2NyaWJlKCgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMucmVmcmVzaEFsbCgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jZHIubWFya0ZvckNoZWNrKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEBoaWRkZW5cclxuICAgICAqL1xyXG4gICAgbmdPbkNoYW5nZXMoY2hhbmdlczogYW55KTogdm9pZCB7XHJcbiAgICAgICAgaWYgKGNoYW5nZXMudmlld0RhdGUgfHwgY2hhbmdlcy5leGNsdWRlRGF5cyB8fCBjaGFuZ2VzLndlZWtlbmREYXlzKSB7XHJcbiAgICAgICAgICAgIHRoaXMucmVmcmVzaEhlYWRlcigpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGNoYW5nZXMudmlld0RhdGUgfHxcclxuICAgICAgICAgICAgY2hhbmdlcy5ldmVudHMgfHxcclxuICAgICAgICAgICAgY2hhbmdlcy5kYXlTdGFydEhvdXIgfHxcclxuICAgICAgICAgICAgY2hhbmdlcy5kYXlFbmRIb3VyIHx8XHJcbiAgICAgICAgICAgIGNoYW5nZXMuZGF5U3RhcnRNaW51dGUgfHxcclxuICAgICAgICAgICAgY2hhbmdlcy5kYXlFbmRNaW51dGUgfHxcclxuICAgICAgICAgICAgY2hhbmdlcy5leGNsdWRlRGF5cyB8fFxyXG4gICAgICAgICAgICBjaGFuZ2VzLmV2ZW50V2lkdGhcclxuICAgICAgICApIHtcclxuICAgICAgICAgICAgdGhpcy5yZWZyZXNoSG91ckdyaWQoKTtcclxuICAgICAgICAgICAgdGhpcy5yZWZyZXNoQm9keSgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEBoaWRkZW5cclxuICAgICAqL1xyXG4gICAgbmdPbkRlc3Ryb3koKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKHRoaXMucmVmcmVzaFN1YnNjcmlwdGlvbikge1xyXG4gICAgICAgICAgICB0aGlzLnJlZnJlc2hTdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0UG9zaXRpb25pbmdDbGFzc2VzKGRheTogU2NoZWR1bGVyVmlld0RheSwgZXZlbnQ6IENhbGVuZGFyU2NoZWR1bGVyRXZlbnQpOiBzdHJpbmcge1xyXG4gICAgICAgIGNvbnN0IGNsYXNzZXM6IHN0cmluZ1tdID0gW1xyXG4gICAgICAgICAgICB0aGlzLmdldERheUNsYXNzKGV2ZW50LnN0YXJ0KSxcclxuICAgICAgICAgICAgdGhpcy5nZXRUaW1lQ2xhc3MoZGF5LmRhdGUsIGV2ZW50KSxcclxuICAgICAgICAgICAgdGhpcy5nZXRMZW5ndGhDbGFzcyhkYXkuZGF0ZSwgZXZlbnQpXHJcbiAgICAgICAgXTtcclxuICAgICAgICByZXR1cm4gY2xhc3Nlcy5qb2luKCcgJyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBnZXREYXlDbGFzcyhkYXRlOiBEYXRlKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gJyc7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBnZXRUaW1lQ2xhc3MoZGF0ZTogRGF0ZSwgZXZlbnQ6IENhbGVuZGFyU2NoZWR1bGVyRXZlbnQpOiBzdHJpbmcge1xyXG4gICAgICAgIGlmICh0aGlzLmRhdGVBZGFwdGVyLmlzU2FtZURheShkYXRlLCBldmVudC5zdGFydCkpIHtcclxuICAgICAgICAgICAgbGV0IGhvdXJzOiBudW1iZXIgPSBldmVudC5zdGFydC5nZXRIb3VycygpO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5kYXlTdGFydEhvdXIgPiAwKSB7IGhvdXJzID0gZXZlbnQuc3RhcnQuZ2V0SG91cnMoKSAtIHRoaXMuZGF5U3RhcnRIb3VyOyB9XHJcbiAgICAgICAgICAgIGNvbnN0IGhvdXJzU3RyaW5nOiBzdHJpbmcgPSBob3VycyA8IDEwID8gYDAke2hvdXJzfWAgOiBgJHtob3Vyc31gO1xyXG4gICAgICAgICAgICBjb25zdCBtaW51dGVzU3RyaW5nOiBzdHJpbmcgPSBldmVudC5zdGFydC5nZXRNaW51dGVzKCkgPCAxMCA/IGAwJHtldmVudC5zdGFydC5nZXRNaW51dGVzKCl9YCA6IGAke2V2ZW50LnN0YXJ0LmdldE1pbnV0ZXMoKX1gO1xyXG4gICAgICAgICAgICByZXR1cm4gYHRpbWUke2hvdXJzU3RyaW5nfSR7bWludXRlc1N0cmluZ31gO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoaXNCZWZvcmUoZXZlbnQuc3RhcnQsIHRoaXMuZGF0ZUFkYXB0ZXIuc3RhcnRPZkRheShkYXRlKSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGB0aW1lMDAwMGA7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgZ2V0TGVuZ3RoQ2xhc3MoZGF0ZTogRGF0ZSwgZXZlbnQ6IENhbGVuZGFyU2NoZWR1bGVyRXZlbnQpOiBzdHJpbmcge1xyXG4gICAgICAgIGlmICh0aGlzLmRhdGVBZGFwdGVyLmlzU2FtZURheShkYXRlLCBldmVudC5zdGFydCkpIHtcclxuICAgICAgICAgICAgY29uc3QgZHVyYXRpb25Jbk1pbnV0ZXM6IG51bWJlciA9IHRoaXMuZGF0ZUFkYXB0ZXIuZGlmZmVyZW5jZUluTWludXRlcyhldmVudC5lbmQsIGV2ZW50LnN0YXJ0KTtcclxuICAgICAgICAgICAgY29uc3QgbGVmdFRvRW5kT2ZEYXk6IG51bWJlciA9IHRoaXMuZGF0ZUFkYXB0ZXIuZGlmZmVyZW5jZUluTWludXRlcyh0aGlzLmRhdGVBZGFwdGVyLnNldE1pbnV0ZXModGhpcy5kYXRlQWRhcHRlci5zZXRIb3VycyhldmVudC5zdGFydCwgdGhpcy5kYXlFbmRIb3VyICsgMSksIDApLCBldmVudC5zdGFydCk7XHJcbiAgICAgICAgICAgIHJldHVybiBsZWZ0VG9FbmRPZkRheSA+IGR1cmF0aW9uSW5NaW51dGVzID8gYGxlbmd0aCR7ZHVyYXRpb25Jbk1pbnV0ZXN9YCA6IGBsZW5ndGgke2xlZnRUb0VuZE9mRGF5fWA7XHJcbiAgICAgICAgfSBlbHNlIGlmIChpc0JlZm9yZShldmVudC5zdGFydCwgdGhpcy5kYXRlQWRhcHRlci5zdGFydE9mRGF5KGRhdGUpKSkge1xyXG4gICAgICAgICAgICBsZXQgbGVmdER1cmF0aW9uSW5NaW51dGVzOiBudW1iZXIgPSAwO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5kYXRlQWRhcHRlci5pc1NhbWVEYXkoZGF0ZSwgZXZlbnQuZW5kKSkge1xyXG4gICAgICAgICAgICAgICAgbGVmdER1cmF0aW9uSW5NaW51dGVzID0gdGhpcy5kYXRlQWRhcHRlci5kaWZmZXJlbmNlSW5NaW51dGVzKGV2ZW50LmVuZCwgdGhpcy5kYXRlQWRhcHRlci5zdGFydE9mRGF5KGRhdGUpKTtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmRheVN0YXJ0SG91ciA+IDApIHsgbGVmdER1cmF0aW9uSW5NaW51dGVzID0gKGV2ZW50LmVuZC5nZXRIb3VycygpIC0gdGhpcy5kYXlTdGFydEhvdXIpICogTUlOVVRFU19JTl9IT1VSOyB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBsZWZ0RHVyYXRpb25Jbk1pbnV0ZXMgPSAoKHRoaXMuZGF5RW5kSG91ciArIDEpIC0gdGhpcy5kYXlTdGFydEhvdXIpICogTUlOVVRFU19JTl9IT1VSO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBgbGVuZ3RoJHtsZWZ0RHVyYXRpb25Jbk1pbnV0ZXN9YDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG5cclxuICAgIHByaXZhdGUgcmVmcmVzaEhvdXJHcmlkKCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuaG91cnMgPSB0aGlzLnV0aWxzLmdldFNjaGVkdWxlclZpZXdIb3VyR3JpZCh7XHJcbiAgICAgICAgICAgIHZpZXdEYXRlOiB0aGlzLnZpZXdEYXRlLFxyXG4gICAgICAgICAgICBob3VyU2VnbWVudHM6IHRoaXMuaG91clNlZ21lbnRzLFxyXG4gICAgICAgICAgICBkYXlTdGFydDoge1xyXG4gICAgICAgICAgICAgICAgaG91cjogdGhpcy5kYXlTdGFydEhvdXIsXHJcbiAgICAgICAgICAgICAgICBtaW51dGU6IHRoaXMuZGF5U3RhcnRNaW51dGVcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZGF5RW5kOiB7XHJcbiAgICAgICAgICAgICAgICBob3VyOiB0aGlzLmRheUVuZEhvdXIsXHJcbiAgICAgICAgICAgICAgICBtaW51dGU6IHRoaXMuZGF5RW5kTWludXRlXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHJlZnJlc2hIZWFkZXIoKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5kYXlzID0gdGhpcy51dGlscy5nZXRTY2hlZHVsZXJWaWV3RGF5cyh7XHJcbiAgICAgICAgICAgIHZpZXdEYXRlOiB0aGlzLnZpZXdEYXRlLFxyXG4gICAgICAgICAgICB3ZWVrU3RhcnRzT246IHRoaXMud2Vla1N0YXJ0c09uLFxyXG4gICAgICAgICAgICBzdGFydHNXaXRoVG9kYXk6IHRoaXMuc3RhcnRzV2l0aFRvZGF5LFxyXG4gICAgICAgICAgICBleGNsdWRlZDogdGhpcy5leGNsdWRlRGF5cyxcclxuICAgICAgICAgICAgd2Vla2VuZERheXM6IHRoaXMud2Vla2VuZERheXNcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHJlZnJlc2hCb2R5KGV2ZW50cz86IENhbGVuZGFyU2NoZWR1bGVyRXZlbnRbXSk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMudmlldyA9IHRoaXMuZ2V0U2NoZWR1bGVyVmlldyhldmVudHMgfHwgdGhpcy5ldmVudHMpO1xyXG5cclxuICAgICAgICB0aGlzLnZpZXcuZGF5cy5mb3JFYWNoKChkYXk6IFNjaGVkdWxlclZpZXdEYXkpID0+IHtcclxuICAgICAgICAgICAgZGF5LmV2ZW50cy5mb3JFYWNoKChldmVudDogU2NoZWR1bGVyVmlld0V2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjYWxlT3ZlcmxhcHBpbmdFdmVudHMoZXZlbnQuZXZlbnQuc3RhcnQsIGV2ZW50LmV2ZW50LmVuZCwgZGF5LmV2ZW50cyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5kYXlNb2RpZmllcikge1xyXG4gICAgICAgICAgICB0aGlzLmRheXMuZm9yRWFjaChkYXkgPT4gdGhpcy5kYXlNb2RpZmllcihkYXkpKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmRheU1vZGlmaWVyIHx8IHRoaXMuaG91ck1vZGlmaWVyIHx8IHRoaXMuc2VnbWVudE1vZGlmaWVyKSB7XHJcbiAgICAgICAgICAgIHRoaXMudmlldy5kYXlzLmZvckVhY2goZGF5ID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmRheU1vZGlmaWVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXlNb2RpZmllcihkYXkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZGF5LmhvdXJzLmZvckVhY2goKGhvdXI6IFNjaGVkdWxlclZpZXdIb3VyKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuaG91ck1vZGlmaWVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaG91ck1vZGlmaWVyKGhvdXIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBob3VyLnNlZ21lbnRzLmZvckVhY2goKHNlZ21lbnQ6IFNjaGVkdWxlclZpZXdIb3VyU2VnbWVudCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5zZWdtZW50TW9kaWZpZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2VnbWVudE1vZGlmaWVyKHNlZ21lbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhpcy5ldmVudE1vZGlmaWVyKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZXZlbnRzLmZvckVhY2goZXZlbnQgPT4gdGhpcy5ldmVudE1vZGlmaWVyKGV2ZW50KSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgcmVmcmVzaEFsbCgpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLnJlZnJlc2hIZWFkZXIoKTtcclxuICAgICAgICB0aGlzLnJlZnJlc2hIb3VyR3JpZCgpO1xyXG4gICAgICAgIHRoaXMucmVmcmVzaEJvZHkoKTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgcHJpdmF0ZSBnZXRTY2hlZHVsZXJWaWV3KGV2ZW50czogQ2FsZW5kYXJTY2hlZHVsZXJFdmVudFtdKTogU2NoZWR1bGVyVmlldyB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMudXRpbHMuZ2V0U2NoZWR1bGVyVmlldyh7XHJcbiAgICAgICAgICAgIGV2ZW50czogZXZlbnRzLFxyXG4gICAgICAgICAgICB2aWV3RGF0ZTogdGhpcy52aWV3RGF0ZSxcclxuICAgICAgICAgICAgaG91clNlZ21lbnRzOiB0aGlzLmhvdXJTZWdtZW50cyxcclxuICAgICAgICAgICAgd2Vla1N0YXJ0c09uOiB0aGlzLndlZWtTdGFydHNPbixcclxuICAgICAgICAgICAgc3RhcnRzV2l0aFRvZGF5OiB0aGlzLnN0YXJ0c1dpdGhUb2RheSxcclxuICAgICAgICAgICAgZGF5U3RhcnQ6IHtcclxuICAgICAgICAgICAgICAgIGhvdXI6IHRoaXMuZGF5U3RhcnRIb3VyLFxyXG4gICAgICAgICAgICAgICAgbWludXRlOiB0aGlzLmRheVN0YXJ0TWludXRlXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGRheUVuZDoge1xyXG4gICAgICAgICAgICAgICAgaG91cjogdGhpcy5kYXlFbmRIb3VyLFxyXG4gICAgICAgICAgICAgICAgbWludXRlOiB0aGlzLmRheUVuZE1pbnV0ZVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBleGNsdWRlZDogdGhpcy5leGNsdWRlRGF5cyxcclxuICAgICAgICAgICAgZXZlbnRXaWR0aDogdGhpcy5ldmVudFdpZHRoUGVyY2VudCxcclxuICAgICAgICAgICAgaG91clNlZ21lbnRIZWlnaHQ6IHRoaXMuaG91clNlZ21lbnRIZWlnaHRcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHNjYWxlT3ZlcmxhcHBpbmdFdmVudHMoc3RhcnRUaW1lOiBEYXRlLCBlbmRUaW1lOiBEYXRlLCBldmVudHM6IFNjaGVkdWxlclZpZXdFdmVudFtdKTogdm9pZCB7XHJcbiAgICAgICAgbGV0IG5ld1N0YXJ0VGltZTogRGF0ZSA9IHN0YXJ0VGltZTtcclxuICAgICAgICBsZXQgbmV3RW5kVGltZTogRGF0ZSA9IGVuZFRpbWU7XHJcbiAgICAgICAgY29uc3Qgb3ZlcmxhcHBpbmdFdmVudHM6IFNjaGVkdWxlclZpZXdFdmVudFtdID0gW107XHJcbiAgICAgICAgbGV0IG1heExlZnQgPSAwO1xyXG4gICAgICAgIGV2ZW50cy5mb3JFYWNoKChldmVudDogU2NoZWR1bGVyVmlld0V2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChldmVudC5pc1Byb2Nlc3NlZCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChldmVudC5ldmVudC5zdGFydCA8IHN0YXJ0VGltZSAmJiBldmVudC5ldmVudC5lbmQgPiBzdGFydFRpbWUpIHtcclxuICAgICAgICAgICAgICAgIG5ld1N0YXJ0VGltZSA9IGV2ZW50LmV2ZW50LnN0YXJ0O1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGV2ZW50LmV2ZW50LmVuZCA+IGVuZFRpbWUgJiYgZXZlbnQuZXZlbnQuc3RhcnQgPCBlbmRUaW1lKSB7XHJcbiAgICAgICAgICAgICAgICBuZXdFbmRUaW1lID0gZXZlbnQuZXZlbnQuZW5kO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGV2ZW50LmV2ZW50LmVuZCA8PSBlbmRUaW1lICYmIGV2ZW50LmV2ZW50LnN0YXJ0ID49IHN0YXJ0VGltZSkge1xyXG4gICAgICAgICAgICAgICAgLy8gTm90aGluZywgYnV0IHJlbW92ZSBjb25kaXRpb24gYW5kIGFkZCBlcXVhbHMgdG8gYWJvdmUgdHdvIGZvciBvdmVybGFwcGluZyBlZmZlY3RcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoZXZlbnQubGVmdCA+IG1heExlZnQpIHtcclxuICAgICAgICAgICAgICAgIG1heExlZnQgPSBldmVudC5sZWZ0O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIG92ZXJsYXBwaW5nRXZlbnRzLnB1c2goZXZlbnQpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGlmIChzdGFydFRpbWUgPT09IG5ld1N0YXJ0VGltZSAmJiBlbmRUaW1lID09PSBuZXdFbmRUaW1lKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGRpdmlzb3JGYWN0b3IgPSBNYXRoLmZsb29yKG1heExlZnQgLyB0aGlzLmV2ZW50V2lkdGhQZXJjZW50KSArIDE7XHJcbiAgICAgICAgICAgIG92ZXJsYXBwaW5nRXZlbnRzLmZvckVhY2goKGV2ZW50OiBTY2hlZHVsZXJWaWV3RXZlbnQpID0+IHtcclxuICAgICAgICAgICAgICAgIGV2ZW50LmlzUHJvY2Vzc2VkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIGV2ZW50LmxlZnQgLz0gZGl2aXNvckZhY3RvcjtcclxuICAgICAgICAgICAgICAgIGV2ZW50LndpZHRoIC89IGRpdmlzb3JGYWN0b3I7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2NhbGVPdmVybGFwcGluZ0V2ZW50cyhuZXdTdGFydFRpbWUsIG5ld0VuZFRpbWUsIGV2ZW50cyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICAvLyNyZWdpb24gUkVTSVpFXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAaGlkZGVuXHJcbiAgICAgKi9cclxuICAgIHJlc2l6ZVN0YXJ0ZWQoZXZlbnRzQ29udGFpbmVyOiBIVE1MRWxlbWVudCwgZXZlbnQ6IFNjaGVkdWxlclZpZXdFdmVudCwgcmVzaXplRXZlbnQ6IFJlc2l6ZUV2ZW50KTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5yZXNpemVzLnNldChldmVudC5ldmVudCwgcmVzaXplRXZlbnQpO1xyXG4gICAgICAgIHRoaXMuZGF5Q29sdW1uV2lkdGggPSBNYXRoLmZsb29yKGV2ZW50c0NvbnRhaW5lci5vZmZzZXRXaWR0aCAvIHRoaXMuZGF5cy5sZW5ndGgpO1xyXG5cclxuICAgICAgICBjb25zdCByZXNpemVIZWxwZXI6IENhbGVuZGFyUmVzaXplSGVscGVyID0gbmV3IENhbGVuZGFyUmVzaXplSGVscGVyKGV2ZW50c0NvbnRhaW5lcik7XHJcbiAgICAgICAgdGhpcy52YWxpZGF0ZVJlc2l6ZSA9ICh7IHJlY3RhbmdsZSB9KSA9PiByZXNpemVIZWxwZXIudmFsaWRhdGVSZXNpemUoeyByZWN0YW5nbGUgfSk7XHJcbiAgICAgICAgdGhpcy5jZHIubWFya0ZvckNoZWNrKCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAaGlkZGVuXHJcbiAgICAgKi9cclxuICAgIHJlc2l6aW5nKGV2ZW50OiBTY2hlZHVsZXJWaWV3RXZlbnQsIHJlc2l6ZUV2ZW50OiBSZXNpemVFdmVudCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMucmVzaXplcy5zZXQoZXZlbnQuZXZlbnQsIHJlc2l6ZUV2ZW50KTtcclxuICAgICAgICBjb25zdCBhZGp1c3RlZEV2ZW50cyA9IG5ldyBNYXA8Q2FsZW5kYXJTY2hlZHVsZXJFdmVudCwgQ2FsZW5kYXJTY2hlZHVsZXJFdmVudD4oKTtcclxuXHJcbiAgICAgICAgY29uc3QgdGVtcEV2ZW50cyA9IFsuLi50aGlzLmV2ZW50c107XHJcblxyXG4gICAgICAgIHRoaXMucmVzaXplcy5mb3JFYWNoKChsYXN0UmVzaXplRXZlbnQsIGV2KSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IG5ld0V2ZW50RGF0ZXMgPSB0aGlzLmdldFJlc2l6ZWRFdmVudERhdGVzKFxyXG4gICAgICAgICAgICAgICAgZXYsXHJcbiAgICAgICAgICAgICAgICBsYXN0UmVzaXplRXZlbnRcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgY29uc3QgYWRqdXN0ZWRFdmVudCA9IHsgLi4uZXYsIC4uLm5ld0V2ZW50RGF0ZXMgfTtcclxuICAgICAgICAgICAgYWRqdXN0ZWRFdmVudHMuc2V0KGFkanVzdGVkRXZlbnQsIGV2KTtcclxuICAgICAgICAgICAgY29uc3QgZXZlbnRJbmRleCA9IHRlbXBFdmVudHMuaW5kZXhPZihldik7XHJcbiAgICAgICAgICAgIHRlbXBFdmVudHNbZXZlbnRJbmRleF0gPSBhZGp1c3RlZEV2ZW50O1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLnJlc3RvcmVPcmlnaW5hbEV2ZW50cyh0ZW1wRXZlbnRzLCBhZGp1c3RlZEV2ZW50cyk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAaGlkZGVuXHJcbiAgICAgKi9cclxuICAgIHJlc2l6ZUVuZGVkKGV2ZW50OiBTY2hlZHVsZXJWaWV3RXZlbnQpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLnZpZXcgPSB0aGlzLmdldFNjaGVkdWxlclZpZXcodGhpcy5ldmVudHMpO1xyXG4gICAgICAgIGNvbnN0IGxhc3RSZXNpemVFdmVudCA9IHRoaXMucmVzaXplcy5nZXQoZXZlbnQuZXZlbnQpO1xyXG4gICAgICAgIHRoaXMucmVzaXplcy5kZWxldGUoZXZlbnQuZXZlbnQpO1xyXG4gICAgICAgIGNvbnN0IG5ld0V2ZW50RGF0ZXMgPSB0aGlzLmdldFJlc2l6ZWRFdmVudERhdGVzKFxyXG4gICAgICAgICAgICBldmVudC5ldmVudCxcclxuICAgICAgICAgICAgbGFzdFJlc2l6ZUV2ZW50XHJcbiAgICAgICAgKTtcclxuICAgICAgICB0aGlzLmV2ZW50VGltZXNDaGFuZ2VkLmVtaXQoXHJcbiAgICAgICAgICAgIDxTY2hlZHVsZXJFdmVudFRpbWVzQ2hhbmdlZEV2ZW50PntcclxuICAgICAgICAgICAgICAgIG5ld1N0YXJ0OiBuZXdFdmVudERhdGVzLnN0YXJ0LFxyXG4gICAgICAgICAgICAgICAgbmV3RW5kOiBuZXdFdmVudERhdGVzLmVuZCxcclxuICAgICAgICAgICAgICAgIGV2ZW50OiBldmVudC5ldmVudCxcclxuICAgICAgICAgICAgICAgIHR5cGU6IENhbGVuZGFyRXZlbnRUaW1lc0NoYW5nZWRFdmVudFR5cGUuUmVzaXplXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgZ2V0UmVzaXplZEV2ZW50RGF0ZXMoZXZlbnQ6IENhbGVuZGFyU2NoZWR1bGVyRXZlbnQsIHJlc2l6ZUV2ZW50OiBSZXNpemVFdmVudCk6IHsgc3RhcnQ6IERhdGUsIGVuZDogRGF0ZX0ge1xyXG4gICAgICAgIGNvbnN0IG1pbmltdW1FdmVudEhlaWdodCA9IGdldE1pbmltdW1FdmVudEhlaWdodEluTWludXRlcyh0aGlzLmhvdXJTZWdtZW50cywgdGhpcy5ob3VyU2VnbWVudEhlaWdodCk7XHJcbiAgICAgICAgY29uc3QgbmV3RXZlbnREYXRlcyA9IHtcclxuICAgICAgICAgICAgc3RhcnQ6IGV2ZW50LnN0YXJ0LFxyXG4gICAgICAgICAgICBlbmQ6IGdldERlZmF1bHRFdmVudEVuZCh0aGlzLmRhdGVBZGFwdGVyLCBldmVudCwgbWluaW11bUV2ZW50SGVpZ2h0KVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgY29uc3QgeyBlbmQsIC4uLmV2ZW50V2l0aG91dEVuZCB9ID0gZXZlbnQ7XHJcbiAgICAgICAgY29uc3Qgc21hbGxlc3RSZXNpemVzID0ge1xyXG4gICAgICAgICAgICBzdGFydDogdGhpcy5kYXRlQWRhcHRlci5hZGRNaW51dGVzKG5ld0V2ZW50RGF0ZXMuZW5kLCBtaW5pbXVtRXZlbnRIZWlnaHQgKiAtMSksXHJcbiAgICAgICAgICAgIGVuZDogZ2V0RGVmYXVsdEV2ZW50RW5kKHRoaXMuZGF0ZUFkYXB0ZXIsIGV2ZW50V2l0aG91dEVuZCwgbWluaW11bUV2ZW50SGVpZ2h0KVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGlmIChyZXNpemVFdmVudC5lZGdlcy5sZWZ0KSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGRheXNEaWZmID0gTWF0aC5yb3VuZChcclxuICAgICAgICAgICAgICAgICtyZXNpemVFdmVudC5lZGdlcy5sZWZ0IC8gdGhpcy5kYXlDb2x1bW5XaWR0aFxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgICAgICBjb25zdCBuZXdTdGFydCA9IHRoaXMuZGF0ZUFkYXB0ZXIuYWRkRGF5cyhuZXdFdmVudERhdGVzLnN0YXJ0LCBkYXlzRGlmZik7XHJcbiAgICAgICAgICAgIGlmIChuZXdTdGFydCA8IHNtYWxsZXN0UmVzaXplcy5zdGFydCkge1xyXG4gICAgICAgICAgICAgICAgbmV3RXZlbnREYXRlcy5zdGFydCA9IG5ld1N0YXJ0O1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgbmV3RXZlbnREYXRlcy5zdGFydCA9IHNtYWxsZXN0UmVzaXplcy5zdGFydDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSBpZiAocmVzaXplRXZlbnQuZWRnZXMucmlnaHQpIHtcclxuICAgICAgICAgICAgY29uc3QgZGF5c0RpZmYgPSBNYXRoLnJvdW5kKFxyXG4gICAgICAgICAgICAgICAgK3Jlc2l6ZUV2ZW50LmVkZ2VzLnJpZ2h0IC8gdGhpcy5kYXlDb2x1bW5XaWR0aFxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgICAgICBjb25zdCBuZXdFbmQgPSB0aGlzLmRhdGVBZGFwdGVyLmFkZERheXMobmV3RXZlbnREYXRlcy5lbmQsIGRheXNEaWZmKTtcclxuICAgICAgICAgICAgaWYgKG5ld0VuZCA+IHNtYWxsZXN0UmVzaXplcy5lbmQpIHtcclxuICAgICAgICAgICAgICAgIG5ld0V2ZW50RGF0ZXMuZW5kID0gbmV3RW5kO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgbmV3RXZlbnREYXRlcy5lbmQgPSBzbWFsbGVzdFJlc2l6ZXMuZW5kO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAocmVzaXplRXZlbnQuZWRnZXMudG9wKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHByZWNpc2lvbjogbnVtYmVyID0gdGhpcy5ldmVudFNuYXBTaXplIHx8IHRoaXMuaG91clNlZ21lbnRIZWlnaHQ7XHJcbiAgICAgICAgICAgIGNvbnN0IGRyYWdnZWRJblBpeGVsc1NuYXBTaXplID0gTWF0aC5yb3VuZCgocmVzaXplRXZlbnQuZWRnZXMudG9wIGFzIG51bWJlcikgLyBwcmVjaXNpb24pICogcHJlY2lzaW9uO1xyXG5cclxuICAgICAgICAgICAgY29uc3QgcGl4ZWxBbW91bnRJbk1pbnV0ZXMgPSBNSU5VVEVTX0lOX0hPVVIgLyAodGhpcy5ob3VyU2VnbWVudHMgKiB0aGlzLmhvdXJTZWdtZW50SGVpZ2h0KTtcclxuICAgICAgICAgICAgY29uc3QgbWludXRlc01vdmVkID0gZHJhZ2dlZEluUGl4ZWxzU25hcFNpemUgKiBwaXhlbEFtb3VudEluTWludXRlcztcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IG5ld1N0YXJ0ID0gdGhpcy5kYXRlQWRhcHRlci5hZGRNaW51dGVzKG5ld0V2ZW50RGF0ZXMuc3RhcnQsIG1pbnV0ZXNNb3ZlZCk7XHJcbiAgICAgICAgICAgIGlmIChuZXdTdGFydCA8IHNtYWxsZXN0UmVzaXplcy5zdGFydCkge1xyXG4gICAgICAgICAgICAgICAgbmV3RXZlbnREYXRlcy5zdGFydCA9IG5ld1N0YXJ0O1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgbmV3RXZlbnREYXRlcy5zdGFydCA9IHNtYWxsZXN0UmVzaXplcy5zdGFydDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSBpZiAocmVzaXplRXZlbnQuZWRnZXMuYm90dG9tKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHByZWNpc2lvbjogbnVtYmVyID0gdGhpcy5ldmVudFNuYXBTaXplIHx8IHRoaXMuaG91clNlZ21lbnRIZWlnaHQ7XHJcbiAgICAgICAgICAgIGNvbnN0IGRyYWdnZWRJblBpeGVsc1NuYXBTaXplID0gTWF0aC5yb3VuZCgocmVzaXplRXZlbnQuZWRnZXMuYm90dG9tIGFzIG51bWJlcikgLyBwcmVjaXNpb24pICogcHJlY2lzaW9uO1xyXG5cclxuICAgICAgICAgICAgY29uc3QgcGl4ZWxBbW91bnRJbk1pbnV0ZXMgPSBNSU5VVEVTX0lOX0hPVVIgLyAodGhpcy5ob3VyU2VnbWVudHMgKiB0aGlzLmhvdXJTZWdtZW50SGVpZ2h0KTtcclxuICAgICAgICAgICAgY29uc3QgbWludXRlc01vdmVkID0gZHJhZ2dlZEluUGl4ZWxzU25hcFNpemUgKiBwaXhlbEFtb3VudEluTWludXRlcztcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IG5ld0VuZCA9IHRoaXMuZGF0ZUFkYXB0ZXIuYWRkTWludXRlcyhuZXdFdmVudERhdGVzLmVuZCwgbWludXRlc01vdmVkKTtcclxuICAgICAgICAgICAgaWYgKG5ld0VuZCA+IHNtYWxsZXN0UmVzaXplcy5lbmQpIHtcclxuICAgICAgICAgICAgICAgIG5ld0V2ZW50RGF0ZXMuZW5kID0gbmV3RW5kO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgbmV3RXZlbnREYXRlcy5lbmQgPSBzbWFsbGVzdFJlc2l6ZXMuZW5kO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBuZXdFdmVudERhdGVzO1xyXG4gICAgfVxyXG5cclxuICAgIC8vI2VuZHJlZ2lvblxyXG5cclxuICAgIC8vI3JlZ2lvbiBEUkFHICYgRFJPUFxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQGhpZGRlblxyXG4gICAgICovXHJcbiAgICBldmVudERyb3BwZWQoZHJvcEV2ZW50OiBEcm9wRXZlbnQ8eyBldmVudD86IENhbGVuZGFyU2NoZWR1bGVyRXZlbnQ7IGNhbGVuZGFySWQ/OiBzeW1ib2wgfT4sIGRhdGU6IERhdGUpOiB2b2lkIHtcclxuICAgICAgICBpZiAoc2hvdWxkRmlyZURyb3BwZWRFdmVudChkcm9wRXZlbnQsIGRhdGUsIHRoaXMuY2FsZW5kYXJJZCkpIHtcclxuICAgICAgICAgICAgdGhpcy5ldmVudFRpbWVzQ2hhbmdlZC5lbWl0KFxyXG4gICAgICAgICAgICAgICAgPFNjaGVkdWxlckV2ZW50VGltZXNDaGFuZ2VkRXZlbnQ+e1xyXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IENhbGVuZGFyRXZlbnRUaW1lc0NoYW5nZWRFdmVudFR5cGUuRHJvcCxcclxuICAgICAgICAgICAgICAgICAgICBldmVudDogZHJvcEV2ZW50LmRyb3BEYXRhLmV2ZW50LFxyXG4gICAgICAgICAgICAgICAgICAgIG5ld1N0YXJ0OiBkYXRlLFxyXG4gICAgICAgICAgICAgICAgICAgIG5ld0VuZDogbnVsbFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQGhpZGRlblxyXG4gICAgICovXHJcbiAgICBkcmFnU3RhcnRlZChldmVudHNDb250YWluZXI6IEhUTUxFbGVtZW50LCBldmVudENvbnRhaW5lcjogSFRNTEVsZW1lbnQsIGV2ZW50PzogU2NoZWR1bGVyVmlld0V2ZW50KTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5kYXlDb2x1bW5XaWR0aCA9IE1hdGguZmxvb3IoZXZlbnRzQ29udGFpbmVyLm9mZnNldFdpZHRoIC8gdGhpcy5kYXlzLmxlbmd0aCk7XHJcbiAgICAgICAgY29uc3QgZHJhZ0hlbHBlcjogQ2FsZW5kYXJEcmFnSGVscGVyID0gbmV3IENhbGVuZGFyRHJhZ0hlbHBlcihcclxuICAgICAgICAgICAgZXZlbnRzQ29udGFpbmVyLFxyXG4gICAgICAgICAgICBldmVudENvbnRhaW5lclxyXG4gICAgICAgICk7XHJcbiAgICAgICAgdGhpcy52YWxpZGF0ZURyYWcgPSAoeyB4LCB5IH0pID0+XHJcbiAgICAgICAgICAgIHRoaXMucmVzaXplcy5zaXplID09PSAwICYmIGRyYWdIZWxwZXIudmFsaWRhdGVEcmFnKHsgeCwgeSwgc25hcERyYWdnZWRFdmVudHM6IHRoaXMuc25hcERyYWdnZWRFdmVudHMgfSk7XHJcbiAgICAgICAgICAgIHRoaXMuZHJhZ0FjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMuZXZlbnREcmFnRW50ZXIgPSAwO1xyXG4gICAgICAgICAgICBpZiAoIXRoaXMuc25hcERyYWdnZWRFdmVudHMgJiYgZXZlbnQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMudmlldy5kYXlzLmZvckVhY2goKGRheTogU2NoZWR1bGVyVmlld0RheSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgbGlua2VkRXZlbnQgPSBkYXkuZXZlbnRzLmZpbmQoZXYgPT4gZXYuZXZlbnQgPT09IGV2ZW50LmV2ZW50ICYmIGV2ICE9PSBldmVudCk7XHJcbiAgICAgICAgICAgICAgICAvLyBoaWRlIGFueSBsaW5rZWQgZXZlbnRzIHdoaWxlIGRyYWdnaW5nXHJcbiAgICAgICAgICAgICAgICBpZiAobGlua2VkRXZlbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICBsaW5rZWRFdmVudC53aWR0aCA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgbGlua2VkRXZlbnQuaGVpZ2h0ID0gMDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICB0aGlzLmNkci5tYXJrRm9yQ2hlY2soKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEBoaWRkZW5cclxuICAgICAqL1xyXG4gICAgZHJhZ01vdmUoZXZlbnQ6IFNjaGVkdWxlclZpZXdFdmVudCwgZHJhZ0V2ZW50OiBEcmFnTW92ZUV2ZW50KSB7XHJcbiAgICAgICAgaWYgKHRoaXMuc25hcERyYWdnZWRFdmVudHMpIHtcclxuICAgICAgICAgICAgY29uc3QgbmV3RXZlbnRUaW1lcyA9IHRoaXMuZ2V0RHJhZ01vdmVkRXZlbnRUaW1lcyhcclxuICAgICAgICAgICAgICAgIGV2ZW50LFxyXG4gICAgICAgICAgICAgICAgZHJhZ0V2ZW50LFxyXG4gICAgICAgICAgICAgICAgdGhpcy5kYXlDb2x1bW5XaWR0aCxcclxuICAgICAgICAgICAgICAgIHRydWVcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgY29uc3Qgb3JpZ2luYWxFdmVudCA9IGV2ZW50LmV2ZW50O1xyXG4gICAgICAgICAgICBjb25zdCBhZGp1c3RlZEV2ZW50ID0geyAuLi5vcmlnaW5hbEV2ZW50LCAuLi5uZXdFdmVudFRpbWVzIH07XHJcbiAgICAgICAgICAgIGNvbnN0IHRlbXBFdmVudHMgPSB0aGlzLmV2ZW50cy5tYXAoZXYgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKGV2ID09PSBvcmlnaW5hbEV2ZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFkanVzdGVkRXZlbnQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZXY7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5yZXN0b3JlT3JpZ2luYWxFdmVudHModGVtcEV2ZW50cywgbmV3IE1hcChbW2FkanVzdGVkRXZlbnQsIG9yaWdpbmFsRXZlbnRdXSkpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBkcmFnRW5kZWQoZXZlbnQ6IFNjaGVkdWxlclZpZXdFdmVudCwgZHJhZ0VuZEV2ZW50OiBEcmFnRW5kRXZlbnQsIGRheVdpZHRoOiBudW1iZXIsIHVzZVkgPSBmYWxzZSk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMudmlldyA9IHRoaXMuZ2V0U2NoZWR1bGVyVmlldyh0aGlzLmV2ZW50cyk7XHJcbiAgICAgICAgdGhpcy5kcmFnQWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgY29uc3QgeyBzdGFydCwgZW5kIH0gPSB0aGlzLmdldERyYWdNb3ZlZEV2ZW50VGltZXMoZXZlbnQsIGRyYWdFbmRFdmVudCwgZGF5V2lkdGgsIHVzZVkpO1xyXG4gICAgICAgIGlmICh0aGlzLmV2ZW50RHJhZ0VudGVyID4gMCAmJiBpc0RyYWdnZWRXaXRoaW5QZXJpb2Qoc3RhcnQsIGVuZCwgdGhpcy52aWV3LnBlcmlvZCkpIHtcclxuICAgICAgICAgICAgdGhpcy5ldmVudFRpbWVzQ2hhbmdlZC5lbWl0KFxyXG4gICAgICAgICAgICAgICAgPFNjaGVkdWxlckV2ZW50VGltZXNDaGFuZ2VkRXZlbnQ+e1xyXG4gICAgICAgICAgICAgICAgICAgIG5ld1N0YXJ0OiBzdGFydCxcclxuICAgICAgICAgICAgICAgICAgICBuZXdFbmQ6IGVuZCxcclxuICAgICAgICAgICAgICAgICAgICBldmVudDogZXZlbnQuZXZlbnQsXHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogQ2FsZW5kYXJFdmVudFRpbWVzQ2hhbmdlZEV2ZW50VHlwZS5EcmFnXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBnZXREcmFnTW92ZWRFdmVudFRpbWVzKGV2ZW50OiBTY2hlZHVsZXJWaWV3RXZlbnQsIGRyYWdFbmRFdmVudDogRHJhZ0VuZEV2ZW50IHwgRHJhZ01vdmVFdmVudCwgZGF5V2lkdGg6IG51bWJlciwgdXNlWTogYm9vbGVhbik6IHsgc3RhcnQ6IERhdGUsIGVuZDogRGF0ZX0ge1xyXG4gICAgICAgIGNvbnN0IGRheXNEcmFnZ2VkID0gcm91bmRUb05lYXJlc3QoZHJhZ0VuZEV2ZW50LngsIGRheVdpZHRoKSAvIGRheVdpZHRoO1xyXG4gICAgICAgIGNvbnN0IG1pbnV0ZXNNb3ZlZCA9IHVzZVkgP1xyXG4gICAgICAgICAgICBnZXRNaW51dGVzTW92ZWQoXHJcbiAgICAgICAgICAgICAgICBkcmFnRW5kRXZlbnQueSxcclxuICAgICAgICAgICAgICAgIHRoaXMuaG91clNlZ21lbnRzLFxyXG4gICAgICAgICAgICAgICAgdGhpcy5ob3VyU2VnbWVudEhlaWdodCxcclxuICAgICAgICAgICAgICAgIHRoaXMuZXZlbnRTbmFwU2l6ZSlcclxuICAgICAgICAgICAgOiAwO1xyXG5cclxuICAgICAgICBjb25zdCBzdGFydCA9IHRoaXMuZGF0ZUFkYXB0ZXIuYWRkTWludXRlcyhcclxuICAgICAgICAgICAgdGhpcy5kYXRlQWRhcHRlci5hZGREYXlzKGV2ZW50LmV2ZW50LnN0YXJ0LCBkYXlzRHJhZ2dlZCksXHJcbiAgICAgICAgICAgIG1pbnV0ZXNNb3ZlZFxyXG4gICAgICAgICk7XHJcbiAgICAgICAgbGV0IGVuZDogRGF0ZTtcclxuICAgICAgICBpZiAoZXZlbnQuZXZlbnQuZW5kKSB7XHJcbiAgICAgICAgICAgIGVuZCA9IHRoaXMuZGF0ZUFkYXB0ZXIuYWRkTWludXRlcyhcclxuICAgICAgICAgICAgICAgIHRoaXMuZGF0ZUFkYXB0ZXIuYWRkRGF5cyhldmVudC5ldmVudC5lbmQsIGRheXNEcmFnZ2VkKSxcclxuICAgICAgICAgICAgICAgIG1pbnV0ZXNNb3ZlZFxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHsgc3RhcnQsIGVuZCB9O1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgcmVzdG9yZU9yaWdpbmFsRXZlbnRzKHRlbXBFdmVudHM6IENhbGVuZGFyU2NoZWR1bGVyRXZlbnRbXSwgYWRqdXN0ZWRFdmVudHM6IE1hcDxDYWxlbmRhclNjaGVkdWxlckV2ZW50LCBDYWxlbmRhclNjaGVkdWxlckV2ZW50Pikge1xyXG4gICAgICAgIHRoaXMucmVmcmVzaEJvZHkodGVtcEV2ZW50cyk7XHJcbiAgICAgICAgY29uc3QgYWRqdXN0ZWRFdmVudHNBcnJheSA9IHRlbXBFdmVudHMuZmlsdGVyKGV2ZW50ID0+IGFkanVzdGVkRXZlbnRzLmhhcyhldmVudCkpO1xyXG4gICAgICAgIHRoaXMudmlldy5kYXlzLmZvckVhY2goZGF5ID0+IHtcclxuICAgICAgICAgICAgYWRqdXN0ZWRFdmVudHNBcnJheS5mb3JFYWNoKGFkanVzdGVkRXZlbnQgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgb3JpZ2luYWxFdmVudCA9IGFkanVzdGVkRXZlbnRzLmdldChhZGp1c3RlZEV2ZW50KTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGV4aXN0aW5nQ29sdW1uRXZlbnQgPSBkYXkuZXZlbnRzLmZpbmQoZXYgPT4gZXYuZXZlbnQgPT09IGFkanVzdGVkRXZlbnQpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGV4aXN0aW5nQ29sdW1uRXZlbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyByZXN0b3JlIHRoZSBvcmlnaW5hbCBldmVudCBzbyB0cmFja0J5IGtpY2tzIGluIGFuZCB0aGUgZG9tIGlzbid0IGNoYW5nZWRcclxuICAgICAgICAgICAgICAgICAgICBleGlzdGluZ0NvbHVtbkV2ZW50LmV2ZW50ID0gb3JpZ2luYWxFdmVudDtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gYWRkIGEgZHVtbXkgZXZlbnQgdG8gdGhlIGRyb3Agc28gaWYgdGhlIGV2ZW50IHdhcyByZW1vdmVkIGZyb20gdGhlIG9yaWdpbmFsIGNvbHVtbiB0aGUgZHJhZyBkb2Vzbid0IGVuZCBlYXJseVxyXG4gICAgICAgICAgICAgICAgICAgIGRheS5ldmVudHMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50OiBvcmlnaW5hbEV2ZW50LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZWZ0OiAwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b3A6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0c0JlZm9yZURheTogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuZHNBZnRlckRheTogZmFsc2VcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgYWRqdXN0ZWRFdmVudHMuY2xlYXIoKTtcclxuICAgICAgfVxyXG5cclxuICAgIC8vI2VuZHJlZ2lvblxyXG59XHJcbiJdfQ==